{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/SafetyModal.vue?881f","webpack:///./src/components/AppSelect.vue?a8b7","webpack:///./src/components/ImageUploadModal.vue?5b17","webpack:///./src/App.vue?f446","webpack:///./src/components/Map.vue?fe2f","webpack:///./src/components/AppNavbar.vue?34ef","webpack:///./src/components/AppTextField.vue?e82a","webpack:///./src/components/AppButton.vue?658b","webpack:///./src/components/FormPage.vue?0bd4","webpack:///./src/components/AboutModal.vue?8e02","webpack:///./src/components/AppSidebar.vue?410e","webpack:///./src/components/AppModal.vue?2775","webpack:///./src/components/CreateFactorySuccessModal.vue?b553","webpack:///./src/lib/map.ts","webpack:///./src/App.vue?0454","webpack:///./src/components/Map.vue?8ead","webpack:///./src/components/AppButton.vue?aa2c","webpack:///src/components/AppButton.vue","webpack:///./src/components/AppButton.vue?51b9","webpack:///./src/components/AppButton.vue","webpack:///./src/components/AppNavbar.vue?f60a","webpack:///./src/components/AppNavbar.vue?eee4","webpack:///./src/components/AppNavbar.vue?2caf","webpack:///./src/components/AppNavbar.vue","webpack:///./src/lib/image.ts","webpack:///./src/api/index.ts","webpack:///./src/symbols.ts","webpack:///./src/types.ts","webpack:///./src/components/Map.vue?f1d4","webpack:///./src/components/Map.vue?0602","webpack:///./src/components/Map.vue","webpack:///./src/components/AppSidebar.vue?a5a9","webpack:///src/components/AppSidebar.vue","webpack:///./src/components/AppSidebar.vue?09f0","webpack:///./src/components/AppSidebar.vue","webpack:///./src/components/FormPage.vue?66a0","webpack:///./src/components/AppTextField.vue?46e7","webpack:///src/components/AppTextField.vue","webpack:///./src/components/AppTextField.vue?73c0","webpack:///./src/components/AppTextField.vue","webpack:///./src/components/AppSelect.vue?80cf","webpack:///./src/components/AppSelect.vue?2b88","webpack:///./src/components/AppSelect.vue?a757","webpack:///./src/components/AppSelect.vue","webpack:///./src/components/ImageUploadModal.vue?51bd","webpack:///./src/components/AppModal.vue?ce11","webpack:///./src/components/AppModal.vue?dc2a","webpack:///./src/components/AppModal.vue?27fc","webpack:///./src/components/AppModal.vue","webpack:///./src/components/ImageUploadModal.vue?7dfc","webpack:///./src/components/ImageUploadModal.vue?7e56","webpack:///./src/components/ImageUploadModal.vue","webpack:///./src/lib/browserCheck.js","webpack:///./src/components/FormPage.vue?21ff","webpack:///./src/components/FormPage.vue?0281","webpack:///./src/components/FormPage.vue","webpack:///./src/components/FilterModal.vue?607a","webpack:///./src/components/FilterModal.vue?120b","webpack:///./src/components/FilterModal.vue?e33c","webpack:///./src/components/FilterModal.vue","webpack:///./src/components/AboutModal.vue?c598","webpack:///./src/components/AboutModal.vue?e37d","webpack:///./src/components/AboutModal.vue?ea12","webpack:///./src/components/AboutModal.vue","webpack:///./src/components/ContactModal.vue?c676","webpack:///./src/components/ContactModal.vue?babf","webpack:///./src/components/ContactModal.vue?a211","webpack:///./src/components/ContactModal.vue","webpack:///./src/components/GettingStartedModal.vue?c8cc","webpack:///./src/components/GettingStartedModal.vue?5a15","webpack:///./src/components/GettingStartedModal.vue?d682","webpack:///./src/components/GettingStartedModal.vue","webpack:///./src/components/SafetyModal.vue?2898","webpack:///./src/components/SafetyModal.vue?f8c8","webpack:///./src/components/SafetyModal.vue?fe59","webpack:///./src/components/SafetyModal.vue","webpack:///./src/components/CreateFactorySuccessModal.vue?53f5","webpack:///./src/components/CreateFactorySuccessModal.vue?0169","webpack:///./src/components/CreateFactorySuccessModal.vue?b19f","webpack:///./src/components/CreateFactorySuccessModal.vue","webpack:///./src/lib/hooks.ts","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/GettingStartedModal.vue?8fc0","webpack:///./src/components/FilterModal.vue?57d3","webpack:///./src/components/ContactModal.vue?8f59"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","BASE_MAP","_vm","this","_h","$createElement","_c","_self","attrs","appState","factoryFormOpen","selectFactoryMode","on","toggleSidebar","_v","sidebarActions","model","callback","$$v","$set","expression","filterModalOpen","closeFilterModal","createFactorySuccessModalOpen","setCreateFactorySuccessModal","aboutModalOpen","closeAboutModal","contactModalOpen","closeContactModal","gettingStartedModalOpen","closeGettingStartedModal","safetyModalOpen","closeSafetyModal","openCreateFactoryForm","openEditFactoryForm","enterSelectFactoryMode","exitSelectFactoryMode","setFactoryLocation","openFilterModal","formMode","factoryData","closeFactoryPage","factoryLocation","_e","staticRenderFns","staticClass","onNavBack","ref","class","show","popupData","style","borderColor","color","$event","_s","status","onClickEditFactoryData","_m","zoomToGeolocation","onClickCreateFactoryButton","factoryValid","onClickFinishSelectFactoryPositionButton","outline","disabled","rect","click","_t","props","type","Boolean","default","setup","context","emit","component","dark","fixed","hide","directives","rawName","onBackClick","onMenuClick","back","Function","_","canvas","OffscreenCanvas","document","createElement","ctx","getContext","processor","src","Promise","resolve","image","Image","crossOrigin","display","onload","width","height","clearRect","drawImage","imageData","getImageData","tmpCanvas","tmpCtx","putImageData","toDataURL","remove","argriculturalLandColors","avg","isArrayEqual","a","b","some","v","isArgriculturalLand","arr","flipArgriculturalLand","Array","from","factoryStatusImageMap","D","F","A","factoryBorderColor","entries","zoomIn","zoomOut","reduce","acc","label","setAttribute","iconStyleMap","Style","Icon","anchorYUnits","IconAnchorUnits","PIXELS","anchorOrigin","IconOrigin","BOTTOM_LEFT","nullStyle","minimapPinStyle","Circle","fill","Fill","radius","stroke","Stroke","map","appliedFilters","factoryMap","Map","_map","id","factory","set","factories","createFactoryFeature","features","filter","has","factoriesLayerSource","addFeatures","forEach","updateFactory","feature","getFeatureById","setStyle","filters","displayAllFactory","updateFactoriesFeatureStyle","includes","visible","isFactoryVisible","Feature","geometry","Point","lng","lat","setId","getFactoryStyle","fn","getFeatures","getId","forEachFeatureFactory","values","_factoriesLayerSource","vectorLayer","Vector","source","zIndex","mapInstance","addLayer","projection","projectionExtent","getExtent","resolutions","size","matrixIds","z","Math","pow","origin","wmtsTileGrid","OSM","attributions","TAIWAN","WMTS","matrixSet","format","url","layer","tileGrid","wrapX","SATELITE","requestEncoding","Tile","opacity","tileLoadFunction","imageTile","getImage","then","newSrc","target","handler","options","mapDom","baseLayer","instantiateOLMap","minimap","geolocation","setupGeolocationTracking","setupEventListeners","move","view","getView","zoom","getZoom","resolution","getResolutionForZoom","range","ceil","getCenter","onMoved","getBoundingClientRect","canPlaceFactory","canPlace","event","onClicked","coordinate","forEachFeatureAtPixel","pixel","View","center","mapControlButtons","mapOptions","layers","controls","Zoom","zoomInLabel","zoomOutLabel","ScaleLine","interactions","pinchRotate","extend","PinchRotate","threshold","Geolocation","trackingOptions","enableHighAccuracy","getProjection","setTracking","positionLayer","setupgeolocationLayer","positionFeature","coordinates","getPosition","setGeometry","undefined","run","position","location","setCenter","setZoom","removeLayer","forEachLayerAtPixel","layerFilter","getProperties","layer_","reject","getLayers","_layer","TypeError","getLUIMAPLayer","setVisible","longitude","latitude","minimapPinFeature","initializeMap","changeBaseMap","initializeMinimap","baseURL","instance","headers","getFactories","console","error","uploadImages","files","results","file","formData","FormData","append","post","token","URL","createObjectURL","updateFactoryImages","factoryId","nickname","contact","createFactory","JSON","stringify","put","MainMapControllerSymbol","FACTORY_TYPE","1","3","4","5","6","7","8","9","FACTORY_STATUS","components","AppButton","AppNavbar","required","root","popup","factoryLngLat","mapControllerRef","popupFactoryData","setPopup","getFactory","setLUILayerVisible","popupOverlay","Overlay","element","positioning","OverlayPositioning","mapController","isArray","addFactories","setPosition","getGeometry","getCoordinates","addOverlay","base","open","sidebar","close","_l","link","index","clickActions","text","links","isCreateMode","formPageState","imageUploadModalOpen","closeImageUploadModal","imagesToUpload","finishImagesUpload","finishUploaderForm","staticStyle","onClickMinimap","handleImagesUpload","isiOS","isSafari","onClickImageUpload","factoryFormState","fieldSubmittingState","name_submitting","updateFactoryFieldsFor","factoryTypeItems","factory_type_submitting","others_submitting","others","valid","submitting","submitFactory","_b","domProps","inputValue","_i","$$a","$$el","$$c","checked","$$i","concat","$attrs","_q","composing","String","$$selectedVal","selected","val","_value","multiple","option","items","closeModal","formState","uploading","dismiss","showCloseButon","AppModal","AppTextField","images","FileList","defaultValue","imageUrls","urls","navigator","userAgent","match","test","HTMLElement","toString","safari","pushNotification","AppSelect","ImageUploadModal","minimapController","isEditMode","initialFactoryState","factory_type","image_path","imagesValid","openImageUploadModal","field","updateKey","controller","setMinimapPin","containerStyle","e","_images","err","resultFactory","filterF","filterA","filterD","onClick","setFactoryStatusFilter","Carousel","Slide","defaultOpen","state","AppSidebar","FilterModal","AboutModal","ContactModal","GettingStartedModal","SafetyModal","CreateFactorySuccessModal","FormPage","sidebarOpen","openAboutModal","openContactModal","openSafetyModal","localStorage","getItem","setItem","config","productionTip","use","render","h","App","$mount"],"mappings":"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","file":"js/app.7c344fb1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=style&index=0&id=4f226c2f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=style&index=0&id=4f226c2f&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=style&index=0&id=44e269d3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=style&index=0&id=44e269d3&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=28c6836b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=28c6836b&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=style&index=0&id=b1a690de&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=style&index=0&id=b1a690de&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=style&index=0&id=1dc8b942&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=style&index=0&id=1dc8b942&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=style&index=0&id=b277aba4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=style&index=0&id=b277aba4&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=style&index=0&id=21db5a3a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=style&index=0&id=21db5a3a&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=style&index=0&id=fef48334&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=style&index=0&id=fef48334&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=style&index=0&id=545eac13&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=style&index=0&id=545eac13&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=3436fde9&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=3436fde9&lang=scss&scoped=true&\"","import { Map as OlMap, View, Feature, MapBrowserEvent } from 'ol'\nimport { Style, Icon, Circle, Fill, Stroke } from 'ol/style'\nimport IconAnchorUnits from 'ol/style/IconAnchorUnits'\nimport { Point } from 'ol/geom'\nimport WMTS from 'ol/source/WMTS'\nimport WMTSTileGrid from 'ol/tilegrid/WMTS'\nimport { get as getProjection, transform } from 'ol/proj'\nimport { getWidth, getTopLeft } from 'ol/extent'\nimport { Tile as TileLayer, Vector as VectorLayer, Layer } from 'ol/layer'\nimport { Vector as VectorSource, OSM } from 'ol/source'\nimport { Zoom, ScaleLine } from 'ol/control'\nimport Geolocation from 'ol/Geolocation'\nimport { defaults as defaultInteractions, PinchRotate } from 'ol/interaction'\n\nimport { FactoryData, FactoryStatusType } from '../types'\nimport { flipArgriculturalLand } from '../lib/image'\nimport RenderFeature from 'ol/render/Feature'\nimport { MapOptions } from 'ol/PluggableMap'\nimport IconOrigin from 'ol/style/IconOrigin'\n\nconst factoryStatusImageMap = {\n  D: '/images/marker-green.svg',\n  F: '/images/marker-red.svg',\n  A: '/images/marker-blue.svg'\n}\n\nexport const factoryBorderColor = {\n  D: '#6D8538',\n  F: '#A22929',\n  A: '#447287'\n}\n\nexport enum BASE_MAP {\n  OSM,\n  TAIWAN,\n  SATELITE\n}\n\ntype ButtonElements = {\n  zoomIn: HTMLImageElement,\n  zoomOut: HTMLImageElement\n}\n\nconst makeMapButtons = () => {\n  return Object.entries({\n    zoomIn: '/images/zoom-in.svg',\n    zoomOut: '/images/zoom-out.svg'\n  }).reduce((acc, [key, image]) => {\n    const label = document.createElement('img')\n    label.setAttribute('src', image)\n\n    return {\n      ...acc,\n      [key]: label\n    }\n  }, {}) as ButtonElements\n}\n\nconst iconStyleMap = Object.entries(factoryStatusImageMap).reduce((acc, [status, src]) => ({\n  ...acc,\n  [status]: new Style({\n    image: new Icon({\n      anchorYUnits: IconAnchorUnits.PIXELS,\n      anchorOrigin: IconOrigin.BOTTOM_LEFT,\n      src\n    })\n  })\n}), {}) as {[key in FactoryStatusType]: Style}\n\nconst nullStyle = new Style({})\n\nconst minimapPinStyle = new Style({\n  image: new Circle({\n    fill: new Fill({\n      color: '#A22929'\n    }),\n    radius: 12,\n    stroke: new Stroke({\n      color: '#FFFFFF',\n      width: 1\n    })\n  })\n})\n\nexport class MapFactoryController {\n  private _map: OLMap\n  private appliedFilters: FactoryStatusType[] = []\n  private _factoriesLayerSource?: VectorSource\n  private factoryMap = new Map<string, FactoryData>()\n\n  constructor (map: OLMap) {\n    this._map = map\n  }\n\n  get mapInstance () {\n    return this._map\n  }\n\n  get factories () {\n    return [...this.factoryMap.values()]\n  }\n\n  get factoriesLayerSource () {\n    // create or return _factoriesLayerSource\n    if (!this._factoriesLayerSource) {\n      this._factoriesLayerSource = new VectorSource({ features: [] })\n\n      const vectorLayer = new VectorLayer({\n        source: this._factoriesLayerSource,\n        zIndex: 3\n      })\n\n      this.mapInstance.map.addLayer(vectorLayer)\n    }\n\n    return this._factoriesLayerSource\n  }\n\n  public getFactory (id: string) {\n    return this.factoryMap.get(id)\n  }\n\n  public updateFactory (id: string, factory: FactoryData) {\n    this.factoryMap.set(id, factory)\n  }\n\n  public addFactories (factories: FactoryData[]) {\n    const createFactoryFeature = this.createFactoryFeature.bind(this)\n    const features = factories\n      .filter(factory => !this.factoryMap.has(factory.id))\n      .map(createFactoryFeature)\n\n    this.factoriesLayerSource.addFeatures(features)\n\n    factories.forEach((factory) => this.updateFactory(factory.id, factory))\n  }\n\n  public hideFactories (factories: FactoryData[]) {\n    factories.forEach(factory => {\n      const feature = this.factoriesLayerSource.getFeatureById(factory.id)\n      feature.setStyle(nullStyle)\n    })\n  }\n\n  public setFactoryStatusFilter (filters: FactoryStatusType[]) {\n    this.appliedFilters = filters\n\n    // reset filter if filters is an empty array\n    if (filters.length === 0) {\n      return this.displayAllFactory()\n    } else {\n      this.updateFactoriesFeatureStyle()\n    }\n  }\n\n  private isFactoryVisible (factory: FactoryData) {\n    if (this.appliedFilters.length === 0) {\n      return true\n    } else {\n      return this.appliedFilters.includes(factory.status)\n    }\n  }\n\n  private getFactoryStyle (factory: FactoryData): Style {\n    const visible = this.isFactoryVisible(factory)\n    return visible ? iconStyleMap[factory.status] : nullStyle\n  }\n\n  private createFactoryFeature (factory: FactoryData) {\n    const feature = new Feature({\n      geometry: new Point(transform([factory.lng, factory.lat], 'EPSG:4326', 'EPSG:3857'))\n    })\n    feature.setId(factory.id)\n    feature.setStyle(this.getFactoryStyle(factory))\n\n    return feature\n  }\n\n  private forEachFeatureFactory (fn: (feature: Feature, factory: FactoryData) => void) {\n    this.factoriesLayerSource.getFeatures().forEach(feature => {\n      const id = feature.getId() as string\n      const factory = this.factoryMap.get(id) as FactoryData\n\n      fn(feature, factory)\n    })\n  }\n\n  private displayAllFactory () {\n    this.forEachFeatureFactory((feature, factory) => {\n      feature.setStyle(iconStyleMap[factory.status])\n    })\n  }\n\n  private updateFactoriesFeatureStyle () {\n    this.forEachFeatureFactory((feature, factory) => {\n      feature.setStyle(this.getFactoryStyle(factory))\n    })\n  }\n}\n\nconst getWMTSTileGrid = () => {\n  const projection = getProjection('EPSG:3857')\n  const projectionExtent = projection.getExtent()\n  const resolutions = new Array(21)\n  const size = getWidth(projectionExtent) / 256\n  const matrixIds = new Array(21)\n  for (let z = 0; z < 21; ++z) {\n    // generate resolutions and matrixIds arrays for this WMTS\n    resolutions[z] = size / Math.pow(2, z)\n    matrixIds[z] = z\n  }\n\n  return new WMTSTileGrid({\n    origin: getTopLeft(projectionExtent),\n    resolutions: resolutions,\n    matrixIds: matrixIds\n  })\n}\n\nconst getBaseLayer = (type: BASE_MAP, wmtsTileGrid: WMTSTileGrid) => {\n  const source = (() => {\n    switch (type) {\n      case BASE_MAP.OSM:\n        return new OSM({\n          crossOrigin: 'Anonymous',\n          attributions:\n            '<a href=\"https://osm.tw/\" target=\"_blank\">OpenStreetMap </a>'\n        })\n      case BASE_MAP.TAIWAN:\n        return new WMTS({\n          matrixSet: 'EPSG:3857',\n          format: 'image/png',\n          url: 'https://wmts.nlsc.gov.tw/wmts',\n          layer: 'EMAP',\n          tileGrid: wmtsTileGrid,\n          crossOrigin: 'Anonymous',\n          style: 'default',\n          wrapX: true,\n          attributions:\n            '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\"></a>'\n        })\n      case BASE_MAP.SATELITE:\n        return new WMTS({\n          matrixSet: 'EPSG:3857',\n          format: 'image/png',\n          url: 'https://wmts.nlsc.gov.tw/wmts/PHOTO_MIX/default/EPSG:3857/{TileMatrix}/{TileRow}/{TileCol}',\n          layer: 'EMAP',\n          tileGrid: wmtsTileGrid,\n          requestEncoding: 'REST',\n          crossOrigin: 'Anonymous',\n          style: 'default',\n          wrapX: true,\n          attributions:\n            '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\"></a>'\n        })\n      default:\n        return new OSM({\n          crossOrigin: 'Anonymous',\n          attributions:\n            '<a href=\"https://osm.tw/\" target=\"_blank\">OpenStreetMap </a>'\n        })\n    }\n  })()\n\n  return new TileLayer({\n    source,\n    opacity: 0.6,\n    zIndex: 1\n  })\n}\n\nconst getLUIMapLayer = (wmtsTileGrid: WMTSTileGrid) => {\n  return new TileLayer({\n    source: new WMTS({\n      matrixSet: 'EPSG:3857',\n      format: 'image/png',\n      url: 'https://wmts.nlsc.gov.tw/wmts/nURBAN2/default/EPSG:3857/{TileMatrix}/{TileRow}/{TileCol}',\n      layer: 'LUIMAP',\n      requestEncoding: 'REST',\n      tileGrid: wmtsTileGrid,\n      tileLoadFunction: function (imageTile, src) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const image: HTMLImageElement = (imageTile as any).getImage()\n        flipArgriculturalLand(src).then(newSrc => {\n          image.src = newSrc\n        })\n      },\n      crossOrigin: 'Anonymous',\n      style: 'default',\n      wrapX: true,\n      attributions:\n        '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\"></a>'\n    }),\n    opacity: 0.5,\n    zIndex: 2\n  })\n}\n\ntype MapEventHandler = {\n  onMoved?: (location: [number, number, number], canPlaceFactory: boolean) => void,\n  onClicked?: (location: [number, number], feature?: Feature | RenderFeature) => void\n}\n\ntype OLMapOptions = {\n  minimap?: boolean\n}\n\nexport class OLMap {\n  private _map: OlMap\n  private mapDom: HTMLElement\n  private geolocation?: Geolocation\n  private baseLayer: TileLayer\n  private tileGrid: WMTSTileGrid = getWMTSTileGrid()\n  private minimapPinFeature?: Feature\n\n  constructor (target: HTMLElement, handler: MapEventHandler = {}, options: OLMapOptions = {}) {\n    this.mapDom = target\n\n    this.baseLayer = getBaseLayer(BASE_MAP.OSM, this.tileGrid)\n    this._map = this.instantiateOLMap(this.mapDom, this.baseLayer, options)\n\n    if (!options.minimap) {\n      this.geolocation = this.setupGeolocationTracking(this._map)\n    }\n\n    this.setupEventListeners(this._map, handler)\n  }\n\n  get map () {\n    return this._map\n  }\n\n  private setupEventListeners (map: OlMap, handler: MapEventHandler) {\n    const move = async () => {\n      const view = map.getView()\n      const zoom = view.getZoom()\n\n      // resolution in meter\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const resolution = view.getResolutionForZoom(zoom!)\n      const range = Math.ceil(resolution / 2)\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const [lng, lat] = transform(view.getCenter()!, 'EPSG:3857', 'EPSG:4326')\n\n      if (handler.onMoved) {\n        const { width, height } = this.mapDom.getBoundingClientRect()\n        const canPlace = await this.canPlaceFactory([width / 2, height / 2])\n        handler.onMoved([lng, lat, range], canPlace)\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('change:resolution', move)\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('moveend', move)\n\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('click', async (event) => {\n      if (handler.onClicked) {\n        const [lng, lat] = transform(event.coordinate, 'EPSG:3857', 'EPSG:4326')\n        const feature = map.forEachFeatureAtPixel(event.pixel, (feature) => feature)\n        handler.onClicked([lng, lat], feature)\n      }\n    })\n  }\n\n  private instantiateOLMap (target: HTMLElement, baseLayer: TileLayer, options: OLMapOptions = {}) {\n    const tileGrid = getWMTSTileGrid()\n    const view = new View({\n      center: transform([120.1, 23.234], 'EPSG:4326', 'EPSG:3857'),\n      zoom: 16\n    })\n\n    const mapControlButtons = makeMapButtons()\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const mapOptions: MapOptions = {\n      target,\n      layers: [\n        baseLayer,\n        getLUIMapLayer(tileGrid)\n      ],\n      view,\n      controls: [\n        new Zoom({\n          zoomInLabel: mapControlButtons.zoomIn,\n          zoomOutLabel: mapControlButtons.zoomOut\n        }),\n        new ScaleLine()\n      ],\n      interactions: defaultInteractions({\n        pinchRotate: false\n      }).extend([\n        new PinchRotate({\n          threshold: 0.4\n        })\n      ])\n    }\n\n    if (options.minimap) {\n      mapOptions.controls = []\n      mapOptions.interactions = []\n    }\n\n    return new OlMap(mapOptions)\n  }\n\n  private setupGeolocationTracking (map: OlMap) {\n    const view = map.getView()\n\n    const geolocation = new Geolocation({\n      trackingOptions: {\n        enableHighAccuracy: true\n      },\n      projection: view.getProjection()\n    })\n\n    geolocation.setTracking(true)\n\n    const positionLayer = this.setupgeolocationLayer(geolocation)\n\n    map.addLayer(positionLayer)\n\n    return geolocation\n  }\n\n  private setupgeolocationLayer (geolocation: Geolocation) {\n    const positionFeature = new Feature()\n    geolocation.on('change:position', function () {\n      const coordinates = geolocation.getPosition()\n      positionFeature.setGeometry(coordinates ? new Point(coordinates) : undefined)\n    })\n\n    let run = false\n    geolocation.on('change', () => {\n      if (run) {\n        return\n      }\n\n      const position = geolocation.getPosition()\n      if (position) {\n        this.zoomToGeolocation()\n        run = true\n      }\n    })\n\n    const positionLayer = new VectorLayer({\n      source: new VectorSource({\n        features: [positionFeature]\n      })\n    })\n\n    return positionLayer\n  }\n\n  public zoomToGeolocation () {\n    if (!this.geolocation) {\n      return\n    }\n\n    const location = this.geolocation.getPosition()\n    if (!location) {\n      return\n    }\n\n    const view = this._map.getView()\n    view.setCenter(location)\n    view.setZoom(16)\n  }\n\n  public changeBaseMap (type: BASE_MAP) {\n    this._map.removeLayer(this.baseLayer)\n    this.baseLayer = getBaseLayer(type, this.tileGrid)\n    this._map.addLayer(this.baseLayer)\n  }\n\n  public canPlaceFactory (pixel: MapBrowserEvent['pixel']): Promise<boolean> {\n    return new Promise(resolve => {\n      this._map.forEachLayerAtPixel(pixel, function (_, data) {\n        const [,,, a] = data\n\n        return resolve(a === 1)\n      }, {\n        layerFilter: function (layer) {\n          // only handle click event on LUIMAP\n          return layer.getProperties().source.layer_ === 'LUIMAP'\n        }\n      })\n\n      resolve(false)\n    })\n  }\n\n  private getLUIMAPLayer (): Promise<Layer> {\n    return new Promise((resolve, reject) => {\n      let layer\n      this._map.getLayers().forEach(_layer => {\n        if (_layer.getProperties().source.layer_ === 'LUIMAP') {\n          layer = _layer\n          resolve(_layer as Layer)\n        }\n      })\n\n      if (!layer) {\n        reject(new TypeError('LUIMAP Layer not found'))\n      }\n    })\n  }\n\n  public async setLUILayerVisible (visible: boolean) {\n    const layer = await this.getLUIMAPLayer()\n    layer.setVisible(visible)\n  }\n\n  public setMinimapPin (longitude: number, latitude: number) {\n    const coordinate = transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857')\n\n    if (!this.minimapPinFeature) {\n      const feature = new Feature({\n        geometry: new Point(coordinate)\n      })\n      feature.setStyle(minimapPinStyle)\n      this.minimapPinFeature = feature\n\n      const source = new VectorSource({\n        features: [\n          feature\n        ]\n      })\n\n      const vectorLayer = new VectorLayer({\n        source,\n        zIndex: 4\n      })\n\n      this.map.addLayer(vectorLayer)\n    } else {\n      this.minimapPinFeature.setGeometry(new Point(coordinate))\n    }\n\n    this._map.getView().setCenter(coordinate)\n  }\n}\n\nexport function initializeMap (target: HTMLElement, handler: MapEventHandler = {}) {\n  const mapInstance = new OLMap(target, handler);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (window as any).changeBaseMap = mapInstance.changeBaseMap.bind(mapInstance)\n  return new MapFactoryController(mapInstance)\n}\n\nexport function initializeMinimap (target: HTMLElement, center: number[]) {\n  const mapInstance = new OLMap(target, {}, { minimap: true })\n  mapInstance.map.getView().setCenter(center)\n  return new MapFactoryController(mapInstance)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-navbar',{attrs:{\"hide\":_vm.appState.factoryFormOpen || _vm.appState.selectFactoryMode,\"fixed\":true},on:{\"menu\":_vm.toggleSidebar}},[_vm._v(\"\")]),_c('app-sidebar',{attrs:{\"clickActions\":_vm.sidebarActions},model:{value:(_vm.appState.sidebarOpen),callback:function ($$v) {_vm.$set(_vm.appState, \"sidebarOpen\", $$v)},expression:\"appState.sidebarOpen\"}}),_c('filter-modal',{attrs:{\"open\":_vm.appState.filterModalOpen,\"dismiss\":_vm.closeFilterModal}}),_c('create-factory-success-modal',{attrs:{\"open\":_vm.appState.createFactorySuccessModalOpen,\"dismiss\":function () { return _vm.setCreateFactorySuccessModal(false); }}}),_c('about-modal',{attrs:{\"open\":_vm.aboutModalOpen,\"dismiss\":_vm.closeAboutModal}}),_c('contact-modal',{attrs:{\"open\":_vm.contactModalOpen,\"dismiss\":_vm.closeContactModal}}),_c('getting-started-modal',{attrs:{\"open\":_vm.gettingStartedModalOpen,\"dismiss\":_vm.closeGettingStartedModal}}),_c('safety-modal',{attrs:{\"open\":_vm.safetyModalOpen,\"dismiss\":_vm.closeSafetyModal}}),_c('Map',{attrs:{\"openCreateFactoryForm\":_vm.openCreateFactoryForm,\"openEditFactoryForm\":_vm.openEditFactoryForm,\"selectFactoryMode\":_vm.appState.selectFactoryMode,\"enterSelectFactoryMode\":_vm.enterSelectFactoryMode,\"exitSelectFactoryMode\":_vm.exitSelectFactoryMode,\"setFactoryLocation\":_vm.setFactoryLocation,\"openFilterModal\":_vm.openFilterModal}}),(_vm.appState.factoryFormOpen)?_c('form-page',{attrs:{\"mode\":_vm.appState.formMode,\"factoryData\":_vm.appState.factoryData,\"close\":_vm.closeFactoryPage,\"selectFactoryMode\":_vm.appState.selectFactoryMode,\"enterSelectFactoryMode\":_vm.enterSelectFactoryMode,\"exitSelectFactoryMode\":_vm.exitSelectFactoryMode,\"factoryLocation\":_vm.appState.factoryLocation,\"setCreateFactorySuccessModal\":_vm.setCreateFactorySuccessModal}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.selectFactoryMode)?_c('div',{staticClass:\"navbar-container\"},[_c('app-navbar',{attrs:{\"dark\":false,\"fixed\":true},on:{\"back\":_vm.onNavBack}},[_vm._v(\"  \")])],1):_vm._e(),_c('div',{staticClass:\"map-container\"},[_c('div',{ref:\"root\",staticClass:\"map\"}),_c('div',{ref:\"popup\",class:['popup', { show: _vm.popupData.show }],style:({ borderColor: _vm.popupData.color })},[_c('div',{staticClass:\"close\",on:{\"click\":function($event){_vm.popupData.show = false}}}),_c('h3',[_vm._v(_vm._s(_vm.popupData.name))]),_c('p',{style:({ color: _vm.popupData.color })},[_vm._v(_vm._s(_vm.popupData.status))]),_c('app-button',{attrs:{\"outline\":\"\"},on:{\"click\":_vm.onClickEditFactoryData}},[_vm._v(\"  \")])],1),_c('div',{staticClass:\"ol-map-search ol-unselectable ol-control\",on:{\"click\":_vm.openFilterModal}},[_vm._m(0)]),_c('div',{staticClass:\"ol-fit-location ol-unselectable ol-control\",on:{\"click\":_vm.zoomToGeolocation}},[_vm._m(1)]),(_vm.selectFactoryMode)?_c('div',{staticClass:\"center-point\"}):_vm._e(),_c('div',{staticClass:\"factory-button-group\"},[(!_vm.selectFactoryMode)?_c('div',{staticClass:\"create-factory-button\"},[_c('app-button',{on:{\"click\":_vm.onClickCreateFactoryButton}},[_vm._v(\"\")])],1):_vm._e(),(_vm.selectFactoryMode)?_c('div',{staticClass:\"choose-location-button\"},[_c('app-button',{attrs:{\"disabled\":!_vm.factoryValid},on:{\"click\":_vm.onClickFinishSelectFactoryPositionButton}},[_vm._v(\"  \")])],1):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',[_c('img',{attrs:{\"src\":\"/images/search.svg\",\"alt\":\"search\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',[_c('img',{attrs:{\"src\":\"/images/locate.svg\",\"alt\":\"locate\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:{ outline: _vm.outline, disabled: _vm.disabled, rect: _vm.rect },on:{\"click\":_vm.click}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button\n    :class=\"{ outline, disabled, rect }\"\n    @click=\"click\"\n  >\n    <slot />\n  </button>\n</template>\n\n<script>\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppButton',\n  props: {\n    outline: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    rect: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (props, context) {\n    const click = () => {\n      if (!props.disabled) {\n        context.emit('click')\n      }\n    }\n\n    return {\n      click\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables';\nbutton {\n  width: 100%;\n  background-color: $primary-color;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  border: 1px solid #fff;\n  border-radius: 24px;\n  padding: 10px 21px;\n  user-select: none;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  color: $dark-font-color;\n  font-size: 20px;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n    background-color: #87a400;\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n    background-color: #aaa;\n  }\n}\n\n.outline {\n  border: 1px solid $primary-color;\n  background-color: #fff;\n  color: $font-color;\n\n  &:hover {\n    cursor: pointer;\n    background-color: $primary-color;\n    color: $dark-font-color;\n  }\n}\n\n.rect {\n  border-radius: 4px;\n  box-shadow: none;\n  height: 100%;\n  font-size: 16px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppButton.vue?vue&type=template&id=b277aba4&scoped=true&\"\nimport script from \"./AppButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppButton.vue?vue&type=style&index=0&id=b277aba4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b277aba4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{class:{ dark: _vm.dark, fixed: _vm.fixed, hide: _vm.hide }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.dark),expression:\"!dark\"}],staticClass:\"back-button\",on:{\"click\":function($event){return _vm.onBackClick()}}},[_c('span'),_c('span'),_c('span')]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dark),expression:\"dark\"}],staticClass:\"back-placeholder\"}),_vm._t(\"default\"),_c('div',{staticClass:\"menu-button\",on:{\"click\":function($event){return _vm.onMenuClick()}}},[_c('span'),_c('span'),_c('span')])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppNavbar',\n  props: {\n    dark: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: false\n    },\n    back: {\n      type: Function\n    },\n    hide: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (_, { emit }) {\n    return {\n      onBackClick () {\n        emit('back')\n      },\n      onMenuClick () {\n        emit('menu')\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppNavbar.vue?vue&type=template&id=b1a690de&scoped=true&\"\nimport script from \"./AppNavbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppNavbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppNavbar.vue?vue&type=style&index=0&id=b1a690de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1a690de\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\ntype PixelMapper = (data: Uint8ClampedArray) => void\n\nconst canvas = (window.OffscreenCanvas) ? new OffscreenCanvas(500, 500) : document.createElement('canvas')\nconst ctx = canvas.getContext('2d')!\n\nexport const createImageProcessor = (processor: PixelMapper) => (src: string): Promise<string> => {\n  return new Promise((resolve) => {\n    const image = new Image()\n    image.crossOrigin = ''\n    image.src = src\n    image.style.display = 'none'\n    image.onload = async () => {\n      canvas.width = image.width\n      canvas.height = image.height\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n      ctx.drawImage(image, 0, 0)\n\n      const imageData = ctx.getImageData(0, 0, image.width, image.height)\n      const { data } = imageData\n\n      await Promise.resolve(processor(data))\n\n      const tmpCanvas = document.createElement('canvas')\n      const tmpCtx = tmpCanvas.getContext('2d')!\n      tmpCanvas.width = image.width\n      tmpCanvas.height = image.height\n\n      tmpCtx.putImageData(imageData, 0, 0)\n\n      resolve(tmpCanvas.toDataURL())\n\n      image.remove()\n      tmpCanvas.remove()\n    }\n  })\n}\n\nexport const toGrayScale = createImageProcessor(data => {\n  // doing grayscale operaion pixel by pixel\n  for (let i = 0; i < data.length; i += 4) {\n    const avg = (data[i] + data[i + 1] + data[i + 2]) / 3\n    data[i] = avg // red\n    data[i + 1] = avg // green\n    data[i + 2] = avg // blue\n  }\n})\n\nconst argriculturalLandColors = [\n  [255, 241, 0]\n]\n\nconst isArrayEqual = (a: Array<any>, b: Array<any>) => !a.some((v, i) => b[i] !== v)\n\nconst isArgriculturalLand = (arr: Array<any>) => argriculturalLandColors.some(c => isArrayEqual(c, arr))\n\nexport const flipArgriculturalLand = createImageProcessor(data => {\n  for (let i = 0; i < data.length; i += 4) {\n    const color = Array.from(data.slice(i, i + 3))\n\n    if (isArgriculturalLand(color)) {\n      // set to transparent\n      data[i] = 0\n      data[i + 1] = 0\n      data[i + 2] = 0\n      data[i + 3] = 1\n    } else {\n      // set to black\n      data[i] = 0\n      data[i + 1] = 0\n      data[i + 2] = 0\n      data[i + 3] = 255\n    }\n  }\n})\n","import axios from 'axios'\nimport { FactoryPostData, FactoryData, FactoriesResponse, FactoryImage } from '@/types'\n\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://api.disfactory.tw/api' : '/server/api'\n\nconst instance = axios.create({\n  baseURL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\ntype ImageResponse = {\n  token: string\n}\n\nexport type UploadedImages = {\n  token: string,\n  src: string // used for preview images\n}[]\n\nexport async function getFactories (range: number, lng: number, lat: number): Promise<FactoriesResponse> {\n  try {\n    const { data } = await instance.get(`/factories?range=${range}&lng=${lng}&lat=${lat}`)\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Get factory failed')\n  }\n}\n\nexport async function uploadImages (files: FileList): Promise<UploadedImages> {\n  const results: UploadedImages = []\n\n  for (const file of files) {\n    const formData = new FormData()\n    formData.append('image', file)\n\n    const { data }: { data: ImageResponse } = await instance.post('/images', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    // TODO: error handling\n\n    results.push({\n      token: data.token,\n      src: URL.createObjectURL(file)\n    })\n  }\n\n  return results\n}\n\nexport async function updateFactoryImages (factoryId: string, files: FileList, { nickname, contact } : { nickname?: string, contact?: string }) {\n  const results: FactoryImage[] = []\n\n  for (const file of files) {\n    const formData = new FormData()\n    formData.append('image', file)\n\n    if (nickname) {\n      formData.append('nickname', nickname)\n    }\n    if (contact) {\n      formData.append('contact', contact)\n    }\n\n    const { data }: { data: FactoryImage } = await instance.post(`/factories/${factoryId}/images`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n\n    results.push(data)\n  }\n\n  return results\n}\n\nexport async function createFactory (factory: FactoryPostData): Promise<FactoryData> {\n  try {\n    const { data }: { data: FactoryData } = await instance.post('/factories', JSON.stringify(factory))\n\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Create factory failed')\n  }\n}\n\n// !FIXME: add more factory fields\ntype UpdatableFactoryFields = {\n  name: string,\n  nickname: string,\n  contact: string,\n  others: string,\n  images: string[]\n}\n\nexport async function updateFactory (factoryId: string, factoryData: Partial<UpdatableFactoryFields>): Promise<FactoryData> {\n  try {\n    const { data }: { data: FactoryData } = await instance.put(`/factories/${factoryId}`, JSON.stringify(factoryData))\n\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Update factory failed')\n  }\n}\n","export const MainMapControllerSymbol = Symbol('MAIN_MAP_CONTROLLER')\n","export const FACTORY_TYPE = {\n  1: '',\n  '2-1': '',\n  '2-2': '',\n  '2-3': '',\n  3: '',\n  4: '',\n  5: '',\n  6: '',\n  7: '',\n  8: '',\n  9: ''\n}\nexport type FactoryType = keyof typeof FACTORY_TYPE\n\nexport const FACTORY_STATUS = {\n  D: '',\n  F: '',\n  A: ''\n}\nexport type FactoryStatusType = keyof typeof FACTORY_STATUS\n\nexport type FactoryImage = {\n  id: string,\n  image_path: string,\n  url: string\n}\n\nexport type FactoryData = {\n  id: string,\n  lat: number,\n  lng: number,\n  name: string,\n  landcode: string,\n  type: FactoryType,\n  status: FactoryStatusType,\n  images: FactoryImage[],\n  // TODO: can be one of https://docs.djangoproject.com/en/2.2/ref/settings/#datetime-input-formats\n  // eslint-disable-next-line\n  reported_at: null | string\n}\n\nexport type FactoriesResponse = Array<FactoryData>\n\nexport type FactoryPostData = {\n  name: string,\n  type: FactoryType,\n  images?: string[],\n  others?: string,\n  lat: number,\n  lng: number,\n  nickname?: string,\n  contact?: string\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppButton from '@/components/AppButton.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport { createComponent, onMounted, ref, inject } from '@vue/composition-api'\nimport { initializeMap, MapFactoryController, factoryBorderColor } from '../lib/map'\nimport { getFactories } from '../api'\nimport { MainMapControllerSymbol } from '../symbols'\nimport { Overlay } from 'ol'\nimport OverlayPositioning from 'ol/OverlayPositioning'\nimport { FACTORY_STATUS, FactoryData } from '../types'\n\nexport default createComponent({\n  components: {\n    AppButton,\n    AppNavbar\n  },\n  props: {\n    openCreateFactoryForm: {\n      type: Function,\n      required: true\n    },\n    openEditFactoryForm: {\n      type: Function,\n      required: true\n    },\n    selectFactoryMode: {\n      type: Boolean,\n      required: true\n    },\n    enterSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    exitSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    setFactoryLocation: {\n      type: Function,\n      required: true\n    },\n    openFilterModal: {\n      type: Function,\n      required: true\n    }\n  },\n  setup (props) {\n    const root = ref<HTMLElement>(null)\n    const popup = ref<HTMLDivElement>(null)\n    const factoryValid = ref(false)\n    const factoryLngLat = ref<number[]>([])\n    const mapControllerRef = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n\n    const popupData = ref({\n      show: false,\n      id: '',\n      name: '',\n      color: '',\n      status: ''\n    })\n    const popupFactoryData = ref<FactoryData>(null)\n\n    const setPopup = (id: string) => {\n      if (!mapControllerRef.value) return\n      const factory = mapControllerRef.value.getFactory(id)\n      if (factory) {\n        popupData.value.id = factory.id\n        popupData.value.name = factory.name\n        popupData.value.color = factoryBorderColor[factory.status]\n        popupData.value.status = FACTORY_STATUS[factory.status]\n        popupData.value.show = true\n        popupFactoryData.value = factory\n      }\n    }\n    const onClickEditFactoryData = () => {\n      if (!popupFactoryData.value) {\n        return\n      }\n\n      props.openEditFactoryForm(popupFactoryData.value)\n    }\n\n    onMounted(() => {\n      const popupOverlay = new Overlay({\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        element: popup.value!,\n        positioning: OverlayPositioning.BOTTOM_LEFT\n      })\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const mapController = initializeMap(root.value!, {\n        onMoved: async function ([longitude, latitude, range], canPlaceFactory) {\n          factoryValid.value = canPlaceFactory\n          factoryLngLat.value = [longitude, latitude]\n          try {\n            const factories = await getFactories(range, longitude, latitude)\n            if (Array.isArray(factories)) {\n              mapController.addFactories(factories)\n            }\n          } catch (e) {\n            // TODO: handle here\n          }\n        }, // TODO: do on start move to lock selection\n        onClicked: async function (_, feature) {\n          if (feature) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            popupOverlay.setPosition((feature.getGeometry() as any).getCoordinates())\n            setPopup(feature.getId() as string)\n          } else {\n            popupData.value.show = false\n          }\n        }\n      })\n\n      mapController.mapInstance.map.addOverlay(popupOverlay)\n      mapControllerRef.value = mapController\n\n      mapController.mapInstance.setLUILayerVisible(false)\n    })\n\n    function onClickCreateFactoryButton () {\n      if (!mapControllerRef.value) return\n\n      mapControllerRef.value.mapInstance.setLUILayerVisible(true)\n      props.enterSelectFactoryMode()\n      popupData.value.show = false\n    }\n\n    function onClickFinishSelectFactoryPositionButton () {\n      if (!mapControllerRef.value) return\n\n      mapControllerRef.value.mapInstance.setLUILayerVisible(false)\n\n      props.setFactoryLocation(factoryLngLat.value)\n      props.exitSelectFactoryMode()\n      props.openCreateFactoryForm()\n    }\n\n    return {\n      root,\n      popup,\n      factoryValid,\n      zoomToGeolocation: function () {\n        if (mapControllerRef.value) {\n          mapControllerRef.value.mapInstance.zoomToGeolocation()\n        }\n      },\n      onNavBack () {\n        if (mapControllerRef.value) {\n          mapControllerRef.value.mapInstance.setLUILayerVisible(false)\n        }\n        props.exitSelectFactoryMode()\n      },\n      popupData,\n      onClickEditFactoryData,\n      onClickCreateFactoryButton,\n      onClickFinishSelectFactoryPositionButton\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=28c6836b&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=28c6836b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28c6836b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ base: true, open: _vm.value }},[_c('div',{class:{ sidebar: true, open: _vm.value }},[_c('div',{staticClass:\"close\",on:{\"click\":_vm.close}}),_c('h1',[_vm._v(\"\")]),_c('hr'),_c('ul',_vm._l((_vm.links),function(link,index){return _c('li',{key:index},[_c('a',{on:{\"click\":_vm.clickActions[index]}},[_vm._v(_vm._s(link.text))])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{ base: true, open: value }\">\n    <div :class=\"{ sidebar: true, open: value }\">\n      <div class=\"close\" @click=\"close\" />\n      <h1></h1>\n      <hr />\n      <ul>\n        <li v-for=\"(link,index) in links\" :key=\"index\">\n          <a @click=\"clickActions[index]\">{{ link.text }}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createComponent, ref } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppSidebar',\n  props: {\n    value: {\n      type: Boolean,\n      required: true\n    },\n    clickActions: {\n      type: Array,\n      required: true,\n      default: []\n    }\n  },\n  setup (_, context) {\n    const links = ref([\n      { text: '' },\n      { text: '' },\n      { text: '' },\n      { text: '' }\n    ])\n    const close = () => {\n      context.emit('input', false)\n    }\n\n    return {\n      links,\n      close\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/styles/utils';\n\n.base {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 9;\n  background-color: rgba(#000000, 0.4);\n  visibility: hidden;\n  opacity: 0;\n  transition: all 0.5s cubic-bezier(.4,0,.2,1);\n\n  .sidebar {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 90%;\n    z-index: 10;\n    max-width: 400px;\n    color: #fff;\n    background-color: #6d8538;\n    padding: 60px 30px 20px 30px;\n    transform: translateX(100%);\n    opacity: 0;\n    transition: all 0.5s cubic-bezier(.4,0,.2,1);\n\n    > * {\n      margin: 16px 0;\n    }\n\n    .close {\n      @include close-button;\n      right: unset;\n      left: 30px;\n\n      &::before, &::after {\n        z-index: 11;\n        background: #fff;\n      }\n    }\n\n    h1 {\n      font-size: 36px;\n      line-height: 1.3;\n    }\n\n    hr {\n      border: none;\n      width: 60%;\n      height: 1px;\n      background-color: #ffffff;\n    }\n\n    ul {\n      padding: 0;\n      list-style: none;\n\n      li {\n        a {\n          color: #fff;\n          font-size: 24px;\n          line-height: 2;\n          text-decoration: none;\n          cursor: pointer;\n          user-select: none;\n        }\n      }\n    }\n  }\n\n  .sidebar.open {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n.base.open {\n  visibility: visible;\n  opacity: 1;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppSidebar.vue?vue&type=template&id=fef48334&scoped=true&\"\nimport script from \"./AppSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSidebar.vue?vue&type=style&index=0&id=fef48334&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fef48334\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"navbar-container\"},[_c('app-navbar',{attrs:{\"dark\":false,\"fixed\":true},on:{\"back\":_vm.onNavBack}},[_vm._v(\" \"+_vm._s(_vm.isCreateMode ? '' : '')+\" \")])],1),_c('div',{staticClass:\"page-container\",class:{ hide: _vm.selectFactoryMode }},[_c('image-upload-modal',{attrs:{\"open\":_vm.formPageState.imageUploadModalOpen,\"dismiss\":_vm.closeImageUploadModal,\"images\":_vm.imagesToUpload,\"finishImagesUpload\":_vm.finishImagesUpload,\"finishUploaderForm\":_vm.finishUploaderForm,\"mode\":_vm.mode,\"factoryData\":_vm.factoryData}}),_c('div',{staticClass:\"page\",staticStyle:{\"padding\":\"29px 35px\"}},[_c('h1',[_vm._v(\" \"+_vm._s(_vm.isCreateMode ? '' : '')+\" \")]),_c('h3',[_vm._v(\"\")]),_c('div',{ref:\"minimap\",staticClass:\"minimap\",on:{\"click\":function($event){return _vm.onClickMinimap()}}}),_c('div',{staticClass:\"flex justify-between\",staticStyle:{\"margin-top\":\"40px\",\"margin-bottom\":\"20px\"}},[_vm._m(0),_c('div',[_c('label',[_c('input',{ref:\"image\",staticStyle:{\"visibility\":\"hidden\",\"position\":\"absolute\",\"pointer-events\":\"none\",\"left\":\"-1000px\"},attrs:{\"multiple\":\"\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.handleImagesUpload}}),(_vm.isiOS || _vm.isSafari)?_c('app-button',[_vm._v(\"\")]):_c('app-button',{on:{\"click\":_vm.onClickImageUpload}},[_vm._v(\"\")])],1)])]),_c('div',{staticClass:\"images-grid\"},_vm._l((_vm.factoryFormState.imageUrls),function(url){return _c('div',{key:url,staticClass:\"image-card\"},[_c('img',{attrs:{\"src\":url}})])}),0),_c('h3',[_vm._v(\"\")]),_c('div',{staticClass:\"flex align-items-center\"},[_c('div',{staticClass:\"flex-auto\"},[_c('app-text-field',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.factoryFormState.name),callback:function ($$v) {_vm.$set(_vm.factoryFormState, \"name\", $$v)},expression:\"factoryFormState.name\"}})],1),(_vm.isEditMode)?_c('div',{staticStyle:{\"width\":\"100px\",\"height\":\"47px\",\"margin-left\":\"-3px\"}},[_c('app-button',{attrs:{\"rect\":\"\",\"disabled\":_vm.fieldSubmittingState.name_submitting},on:{\"click\":function($event){return _vm.updateFactoryFieldsFor('name', _vm.factoryFormState.name)}}},[_vm._v(\" \"+_vm._s(_vm.fieldSubmittingState.name_submitting ? '' : '')+\" \")])],1):_vm._e()]),_c('h3',[_vm._v(\"\")]),_c('div',{staticClass:\"flex align-items-center\"},[_c('div',{staticClass:\"flex-auto\"},[_c('app-select',{attrs:{\"items\":_vm.factoryTypeItems},model:{value:(_vm.factoryFormState.type),callback:function ($$v) {_vm.$set(_vm.factoryFormState, \"type\", $$v)},expression:\"factoryFormState.type\"}})],1),(_vm.isEditMode)?_c('div',{staticStyle:{\"width\":\"100px\",\"height\":\"47px\",\"margin-left\":\"-3px\"}},[_c('app-button',{attrs:{\"rect\":\"\",\"disabled\":_vm.fieldSubmittingState.factory_type_submitting},on:{\"click\":function($event){return _vm.updateFactoryFieldsFor('factory_type', _vm.factoryFormState.type)}}},[_vm._v(\" \"+_vm._s(_vm.fieldSubmittingState.factory_type_submitting ? '' : '')+\" \")])],1):_vm._e()]),_c('h3',[_vm._v(\"\")]),_c('div',{staticClass:\"flex align-items-center\"},[_c('div',{staticClass:\"flex-auto\"},[_c('app-text-field',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.factoryFormState.others),callback:function ($$v) {_vm.$set(_vm.factoryFormState, \"others\", $$v)},expression:\"factoryFormState.others\"}})],1),(_vm.isEditMode)?_c('div',{staticStyle:{\"width\":\"100px\",\"height\":\"47px\",\"margin-left\":\"-3px\"}},[_c('app-button',{attrs:{\"rect\":\"\",\"disabled\":_vm.fieldSubmittingState.others_submitting},on:{\"click\":function($event){return _vm.updateFactoryFieldsFor('others', _vm.factoryFormState.others)}}},[_vm._v(\" \"+_vm._s(_vm.fieldSubmittingState.others_submitting ? '' : '')+\" \")])],1):_vm._e()]),(_vm.isCreateMode)?_c('div',{staticClass:\"text-center width-auto\",staticStyle:{\"margin-top\":\"60px\"}},[_c('app-button',{attrs:{\"disabled\":!_vm.formPageState.valid || _vm.formPageState.submitting},on:{\"click\":function($event){return _vm.submitFactory()}}},[_vm._v(\" \"+_vm._s(_vm.formPageState.submitting ? '' : '')+\" \")])],1):_vm._e()])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-column flex-auto\"},[_c('h3',{staticStyle:{\"margin-top\":\"0\"}},[_vm._v(\"*\")]),_c('label',[_c('small',[_vm._v(\"\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return ((_vm.type)==='checkbox')?_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.inputValue)?_vm._i(_vm.inputValue,null)>-1:(_vm.inputValue)},on:{\"change\":function($event){var $$a=_vm.inputValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.inputValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.inputValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.inputValue=$$c}}}},'input',_vm.$attrs,false)):((_vm.type)==='radio')?_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],attrs:{\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.inputValue,null)},on:{\"change\":function($event){_vm.inputValue=null}}},'input',_vm.$attrs,false)):_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],attrs:{\"type\":_vm.type},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}},'input',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input\n    v-bind=\"$attrs\"\n    v-model=\"inputValue\"\n    :type=\"type\"\n  >\n</template>\n\n<script>\nimport { computed, createComponent } from '@vue/composition-api'\nexport default createComponent({\n  name: 'AppTextField',\n  props: {\n    type: {\n      type: String,\n      default: 'text'\n    },\n    value: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const inputValue = computed({\n      get: () => props.value,\n      set: (value) => context.emit('input', value)\n    })\n\n    return {\n      inputValue\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables';\ninput {\n  border: 1px solid $second-color;\n  border-radius: 4px;\n  padding: 10px 15px;\n  outline: none;\n\n  width: 100%;\n\n  font-size: $form-font-size;\n\n  &::placeholder {\n    color: rgb(186, 186, 186);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppTextField.vue?vue&type=template&id=1dc8b942&scoped=true&\"\nimport script from \"./AppTextField.vue?vue&type=script&lang=js&\"\nexport * from \"./AppTextField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppTextField.vue?vue&type=style&index=0&id=1dc8b942&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dc8b942\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select\"},[_c('select',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.inputValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},'select',_vm.$attrs,false),_vm._l((_vm.items),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(\" \"+_vm._s(option.text)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, PropType, computed } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppSelect',\n  props: {\n    value: {\n      type: null,\n      required: true\n    },\n    items: {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      type: Array as PropType<{ text: string, value: any }[]>,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const inputValue = computed({\n      get: () => props.value,\n      set: (value) => context.emit('input', value)\n    })\n\n    return {\n      inputValue\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppSelect.vue?vue&type=template&id=4f226c2f&scoped=true&\"\nimport script from \"./AppSelect.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppSelect.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppSelect.vue?vue&type=style&index=0&id=4f226c2f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f226c2f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{staticClass:\"page\",attrs:{\"open\":_vm.open,\"dismiss\":_vm.closeModal}},[_c('h2',[_vm._v(\"\")]),_c('div',{staticClass:\"images-grid\"},_vm._l((_vm.imageUrls),function(url){return _c('div',{key:url,staticClass:\"image-card\"},[_c('img',{attrs:{\"src\":url}})])}),0),_c('h2',[_vm._v(\" \"),_c('br'),_c('small',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"\")])]),_c('h3',[_vm._v(\"\")]),_c('app-text-field',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.formState.nickname),callback:function ($$v) {_vm.$set(_vm.formState, \"nickname\", $$v)},expression:\"formState.nickname\"}}),_c('h3',[_vm._v(\"\")]),_c('app-text-field',{attrs:{\"placeholder\":\"0912345678\"},model:{value:(_vm.formState.contact),callback:function ($$v) {_vm.$set(_vm.formState, \"contact\", $$v)},expression:\"formState.contact\"}}),_c('div',{staticStyle:{\"margin-top\":\"35px\"}},[_c('app-button',{attrs:{\"disabled\":_vm.formState.uploading},on:{\"click\":function($event){return _vm.handleImagesUpload()}}},[_vm._v(\" \"+_vm._s(_vm.formState.uploading ? '' : '')+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-modal-component\",class:{ open: _vm.open }},[_c('div',{staticClass:\"app-modal-backdrop\",on:{\"click\":_vm.dismiss}}),_c('div',{staticClass:\"app-modal\"},[(_vm.showCloseButon)?_c('div',{staticClass:\"close\",on:{\"click\":_vm.dismiss}}):_vm._e(),_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppModal',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    },\n    showCloseButon: {\n      type: Boolean,\n      default: true\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppModal.vue?vue&type=template&id=545eac13&scoped=true&\"\nimport script from \"./AppModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppModal.vue?vue&type=style&index=0&id=545eac13&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"545eac13\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport AppTextField from '@/components/AppTextField.vue'\nimport { createComponent, computed, reactive } from '@vue/composition-api'\nimport { uploadImages, updateFactoryImages } from '../api'\n\nexport default createComponent({\n  name: 'FilterModal',\n  components: {\n    AppModal,\n    AppButton,\n    AppTextField\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function,\n      required: true\n    },\n    images: {\n      type: FileList\n    },\n    finishImagesUpload: {\n      type: Function,\n      required: true\n    },\n    finishUploaderForm: {\n      type: Function,\n      required: true\n    },\n    mode: {\n      type: String,\n      required: true,\n      defaultValue: 'create'\n    },\n    factoryData: {\n      type: Object,\n      required: true\n    }\n  },\n  setup (props) {\n    const formState = reactive({\n      nickname: '',\n      contact: '',\n      uploading: false\n    })\n\n    const imageUrls = computed(() => {\n      const urls = []\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      for (let i = 0; i < props.images!.length; i++) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        urls.push(URL.createObjectURL(props.images![i]))\n      }\n\n      return urls\n    })\n\n    return {\n      formState,\n      imageUrls,\n      async handleImagesUpload () {\n        formState.uploading = true\n\n        if (props.mode === 'create') {\n          try {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            const images = await uploadImages(props.images!)\n            props.finishUploaderForm(formState.nickname, formState.contact)\n            await props.finishImagesUpload(images, imageUrls)\n\n            formState.uploading = false\n\n            props.dismiss()\n          } catch (err) {\n            formState.uploading = false\n\n            // TODO: show me some error\n            console.error(err)\n          }\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          const images = await updateFactoryImages(props.factoryData.id, props.images!, {\n            nickname: formState.nickname,\n            contact: formState.contact\n          })\n          props.finishUploaderForm(formState.nickname, formState.contact)\n          await props.finishImagesUpload(images, [])\n\n          formState.uploading = false\n          props.dismiss()\n        }\n      },\n      closeModal () {\n        if (!formState.uploading) {\n          props.finishImagesUpload([])\n          props.finishUploaderForm('', '')\n          props.dismiss()\n        }\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageUploadModal.vue?vue&type=template&id=44e269d3&scoped=true&\"\nimport script from \"./ImageUploadModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageUploadModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageUploadModal.vue?vue&type=style&index=0&id=44e269d3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44e269d3\",\n  null\n  \n)\n\nexport default component.exports","// eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\nexport const isiOS = !!(navigator.userAgent.match(/(iPod|iPhone|iPad)/) && navigator.userAgent.match(/AppleWebKit/))\n\nexport const isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === '[object SafariRemoteNotification]' })(!window.safari || (typeof window.safari !== 'undefined' && window.safari.pushNotification))\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, ref, inject, onMounted, watch, reactive } from '@vue/composition-api'\nimport AppButton from '@/components/AppButton.vue'\nimport AppTextField from '@/components/AppTextField.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport AppSelect from '@/components/AppSelect.vue'\nimport ImageUploadModal from '@/components/ImageUploadModal.vue'\nimport { UploadedImages, createFactory, updateFactory } from '../api'\nimport { FactoryPostData, FACTORY_TYPE, FactoryType, FactoryData, FactoryImage } from '../types'\nimport { MapFactoryController, initializeMinimap } from '../lib/map'\nimport { isiOS, isSafari } from '../lib/browserCheck'\nimport { MainMapControllerSymbol } from '../symbols'\n\nexport default createComponent({\n  name: 'FormPage',\n  components: {\n    AppButton,\n    AppTextField,\n    AppSelect,\n    AppNavbar,\n    ImageUploadModal\n  },\n  props: {\n    // close form page\n    close: {\n      type: Function,\n      required: true\n    },\n    selectFactoryMode: {\n      type: Boolean,\n      required: true\n    },\n    enterSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    exitSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    factoryLocation: {\n      type: Array,\n      required: true\n    },\n    setCreateFactorySuccessModal: {\n      type: Function,\n      required: true\n    },\n    mode: {\n      type: String,\n      required: true,\n      defaultValue: 'create'\n    },\n    factoryData: {\n      type: Object,\n      required: true\n    }\n  },\n  setup (props) {\n    const mapController = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n    let minimapController: MapFactoryController\n\n    // mode helpers\n    const isEditMode = props.mode === 'edit'\n    const isCreateMode = props.mode === 'create'\n\n    const factoryTypeItems: Array<{ text: string, value: string }> = [\n      { text: '', value: '0' },\n      ...Object.entries(FACTORY_TYPE).map(([value, text]) => ({ text, value }))\n    ]\n\n    const initialFactoryState = {\n      name: '',\n      others: '', // description\n      type: '0' as FactoryType | '0',\n      lng: 0,\n      lat: 0,\n\n      // image upload data\n      images: [] as string[],\n      imageUrls: [] as string[],\n      nickname: '',\n      contact: ''\n    }\n\n    // merge state\n    if (isEditMode) {\n      const { factoryData } = props\n\n      initialFactoryState.name = factoryData.name\n      initialFactoryState.type = factoryData.factory_type\n      initialFactoryState.others = factoryData.others\n      initialFactoryState.imageUrls = (factoryData.images as FactoryImage[]).map(image => image.image_path)\n      initialFactoryState.lng = factoryData.lng\n      initialFactoryState.lat = factoryData.lat\n    }\n\n    const factoryFormState = reactive(initialFactoryState)\n\n    const formPageState = reactive({\n      imageUploadModalOpen: false,\n      valid: false,\n      submitting: false\n    })\n\n    const fieldSubmittingState = reactive({\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      name_submitting: false,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      factory_type_submitting: false,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      others_submitting: false\n    })\n\n    watch(() => {\n      const {\n        images\n      } = factoryFormState\n      const imagesValid = images.length > 0\n\n      formPageState.valid = imagesValid\n    })\n\n    const closeImageUploadModal = () => {\n      formPageState.imageUploadModalOpen = false\n    }\n    const openImageUploadModal = () => {\n      formPageState.imageUploadModalOpen = true\n    }\n\n    const imagesToUpload = ref<FileList>([])\n    const image = ref<HTMLElement>(null)\n\n    const finishUploaderForm = (nickname: string, contact: string) => {\n      factoryFormState.nickname = nickname\n      factoryFormState.contact = contact\n    }\n\n    const updateFactoryFieldsFor = async (field: string, value: string) => {\n      const { factoryData } = props\n      if (!isEditMode || !factoryData) {\n        return\n      }\n\n      const updateKey = `${field}_submitting` as keyof typeof fieldSubmittingState\n\n      try {\n        fieldSubmittingState[updateKey] = true\n\n        const factory = await updateFactory(factoryData.id, {\n          [field]: value\n        })\n\n        fieldSubmittingState[updateKey] = false\n\n        if (mapController.value) {\n          mapController.value.updateFactory(factoryData.id, factory)\n        }\n      } catch (err) {\n        console.error(err)\n      }\n    }\n\n    const minimap = ref<HTMLElement>(null)\n\n    onMounted(() => {\n      if (mapController.value) {\n        const controller = mapController.value\n        const center = controller.mapInstance.map.getView().getCenter() as number[]\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        minimapController = initializeMinimap(minimap.value!, center)\n        minimapController.addFactories(controller.factories)\n\n        if (isEditMode) {\n          const { factoryData } = props\n          minimapController.mapInstance.setMinimapPin(factoryData.lng, factoryData.lat)\n        } else if (isCreateMode) {\n          const [lng, lat] = props.factoryLocation as number[]\n          minimapController.mapInstance.setMinimapPin(lng, lat)\n        }\n      }\n    })\n\n    watch(() => props.factoryLocation, () => {\n      if (isCreateMode && minimapController) {\n        const [lng, lat] = props.factoryLocation as number[]\n        minimapController.mapInstance.setMinimapPin(lng, lat)\n      }\n    })\n\n    return {\n      minimap,\n      onClickMinimap: () => {\n        if (isCreateMode && mapController.value) {\n          mapController.value.mapInstance.setLUILayerVisible(true)\n          props.enterSelectFactoryMode()\n        }\n      },\n      factoryFormState,\n      formPageState,\n      fieldSubmittingState,\n      factoryTypeItems,\n      containerStyle: {\n        width: '100%'\n      },\n      openImageUploadModal,\n      closeImageUploadModal,\n\n      imagesToUpload,\n      image, // image upload input ref,\n      isiOS,\n      isSafari,\n      onClickImageUpload () {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        image.value!.click()\n      },\n      handleImagesUpload (e: Event) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        imagesToUpload.value = (e.target as HTMLInputElement).files!\n\n        openImageUploadModal()\n      },\n      async finishImagesUpload (_images: UploadedImages | FactoryImage[], imageUrls: string[]) {\n        if (isCreateMode) {\n          factoryFormState.imageUrls = imageUrls\n          factoryFormState.images = (_images as UploadedImages).map(image => image.token)\n        } else if (isEditMode) {\n          // TODO: refactor into sepearte method...\n          try {\n            const factory = { ...props.factoryData } as FactoryData\n\n            factoryFormState.imageUrls = factoryFormState.imageUrls.concat((_images as FactoryImage[]).map(image => image.image_path))\n\n            factory.images = factory.images.concat(_images as FactoryImage[])\n\n            if (mapController.value) {\n              mapController.value.updateFactory(props.factoryData.id, factory)\n            }\n          } catch (err) {\n            console.error(err)\n          }\n        }\n      },\n      onNavBack () {\n        if (mapController.value) {\n          mapController.value.mapInstance.setLUILayerVisible(false)\n          props.close()\n          props.exitSelectFactoryMode()\n        }\n      },\n      async submitFactory () {\n        formPageState.submitting = true\n\n        try {\n          const [lng, lat] = props.factoryLocation as number[]\n          const factory: FactoryPostData = {\n            name: factoryFormState.name,\n            others: factoryFormState.others,\n            type: factoryFormState.type as FactoryType,\n            lng,\n            lat,\n            images: factoryFormState.images,\n            nickname: factoryFormState.nickname,\n            contact: factoryFormState.contact\n          }\n\n          const resultFactory = await createFactory(factory)\n          if (mapController.value) {\n            mapController.value.addFactories([resultFactory])\n          }\n        } catch (e) {\n          // TODO: handle create failure\n        } finally {\n          formPageState.submitting = false\n        }\n\n        // TODO: clear form\n\n        props.close()\n        props.exitSelectFactoryMode()\n        props.setCreateFactorySuccessModal(true)\n      },\n      finishUploaderForm,\n\n      isEditMode,\n      isCreateMode,\n      updateFactoryFieldsFor\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormPage.vue?vue&type=template&id=21db5a3a&scoped=true&\"\nimport script from \"./FormPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormPage.vue?vue&type=style&index=0&id=21db5a3a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21db5a3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page-inner\"},[_c('h2',{staticStyle:{\"margin-right\":\"30px\"}},[_vm._v(\"\")]),_c('label',{staticClass:\"checkbox-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterF),expression:\"filterF\"}],attrs:{\"type\":\"checkbox\",\"name\":\"F\"},domProps:{\"checked\":Array.isArray(_vm.filterF)?_vm._i(_vm.filterF,null)>-1:(_vm.filterF)},on:{\"change\":function($event){var $$a=_vm.filterF,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.filterF=$$a.concat([$$v]))}else{$$i>-1&&(_vm.filterF=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.filterF=$$c}}}}),_c('span',{staticClass:\"checkbox\"}),_c('span',{staticClass:\"data-type\"},[_vm._v(\"\")]),_c('span',{staticClass:\"line\"}),_c('img',{attrs:{\"src\":\"/images/marker-red.svg\"}})]),_c('label',{staticClass:\"checkbox-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterA),expression:\"filterA\"}],attrs:{\"type\":\"checkbox\",\"name\":\"A\"},domProps:{\"checked\":Array.isArray(_vm.filterA)?_vm._i(_vm.filterA,null)>-1:(_vm.filterA)},on:{\"change\":function($event){var $$a=_vm.filterA,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.filterA=$$a.concat([$$v]))}else{$$i>-1&&(_vm.filterA=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.filterA=$$c}}}}),_c('span',{staticClass:\"checkbox\"}),_c('span',{staticClass:\"data-type\"},[_vm._v(\"\")]),_c('span',{staticClass:\"line\"}),_c('img',{attrs:{\"src\":\"/images/marker-blue.svg\"}})]),_c('label',{staticClass:\"checkbox-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterD),expression:\"filterD\"}],attrs:{\"type\":\"checkbox\",\"name\":\"D\"},domProps:{\"checked\":Array.isArray(_vm.filterD)?_vm._i(_vm.filterD,null)>-1:(_vm.filterD)},on:{\"change\":function($event){var $$a=_vm.filterD,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.filterD=$$a.concat([$$v]))}else{$$i>-1&&(_vm.filterD=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.filterD=$$c}}}}),_c('span',{staticClass:\"checkbox\"}),_c('span',{staticClass:\"data-type\"},[_vm._v(\"\")]),_c('span',{staticClass:\"line\"}),_c('img',{attrs:{\"src\":\"/images/marker-green.svg\"}})])]),_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('app-button',{on:{\"click\":function($event){return _vm.onClick()}}},[_vm._v(\"\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { MapFactoryController } from '../lib/map'\nimport { createComponent, ref, inject } from '@vue/composition-api'\nimport { MainMapControllerSymbol } from '../symbols'\n\nexport default createComponent({\n  name: 'FilterModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  },\n  setup (props) {\n    const filterF = ref(false)\n    const filterA = ref(false)\n    const filterD = ref(false)\n\n    const mapController = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n\n    return {\n      filterF,\n      filterA,\n      filterD,\n      onClick () {\n        if (!mapController.value) {\n          return\n        }\n\n        mapController.value.setFactoryStatusFilter([\n          filterF.value ? 'F' : false,\n          filterA.value ? 'A' : false,\n          filterD.value ? 'D' : false\n        ].filter(Boolean) as ('D' | 'F' | 'A')[])\n\n        if (typeof props.dismiss === 'function') {\n          props.dismiss()\n        }\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterModal.vue?vue&type=template&id=545e847f&scoped=true&\"\nimport script from \"./FilterModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./FilterModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FilterModal.vue?vue&type=style&index=0&id=545e847f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"545e847f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-dialog-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('h3',[_vm._v(\"\")]),_c('p',[_vm._v(\"  \")]),_c('p',[_vm._v(\"  \")]),_c('p',[_vm._v(\" 105.05.20  \")]),_c('p',[_vm._v(\"  #g0v.tw  \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AboutModal',\n  components: {\n    AppModal\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AboutModal.vue?vue&type=template&id=65e1f917&\"\nimport script from \"./AboutModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AboutModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AboutModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contact-modal-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('img',{attrs:{\"width\":\"137\",\"src\":\"/images/cet-logo.png\",\"alt\":\"Citizen of the Earth Taiwan\"}}),_c('h3',[_vm._v(\" \"),_c('br'),_vm._v(\"  \")]),_c('p',[_vm._v(\" \"),_c('br'),_vm._v(\" TEL: 07-2156809\"),_c('br'),_vm._v(\" Email: \"),_c('a',{attrs:{\"href\":\"mailto:cet@cet-taiwan.org\"}},[_vm._v(\"cet@cet-taiwan.org\")]),_c('br')])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'ContactModal',\n  components: {\n    AppModal\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContactModal.vue?vue&type=template&id=32761577&\"\nimport script from \"./ContactModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContactModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ContactModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"getting-started-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('p',[_vm._v(\"  \"),_c('img',{attrs:{\"width\":\"30\",\"src\":\"/images/menu-pic.png\"}}),_vm._v(\" \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'GettingStartedModal',\n  components: {\n    AppModal\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GettingStartedModal.vue?vue&type=template&id=897b6d86&\"\nimport script from \"./GettingStartedModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./GettingStartedModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GettingStartedModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"safety-modal-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('carousel',{attrs:{\"per-page\":1,\"paginationActiveColor\":\"#6E8501\",\"paginationColor\":\"#e3e3e3\",\"paginationPadding\":5}},[_c('slide',[_c('h1',[_vm._v(\"\")]),_c('p',[_vm._v(\"  \")])]),_c('slide',[_c('img',{attrs:{\"src\":\"/images/safety_notice/1.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"  \")]),_c('p',[_vm._v(\"  \")])]),_c('slide',[_c('img',{attrs:{\"src\":\"/images/safety_notice/2.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"\")]),_c('p',[_vm._v(\"  \")])]),_c('slide',[_c('img',{attrs:{\"src\":\"/images/safety_notice/3.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"\")]),_c('p',[_vm._v(\"\")])]),_c('slide',[_c('img',{attrs:{\"src\":\"/images/safety_notice/4.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"\")]),_c('p',[_vm._v(\"1\")])]),_c('slide',[_c('img',{attrs:{\"src\":\"/images/safety_notice/5.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"\")]),_c('p',[_vm._v(\"\")])])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent } from '@vue/composition-api'\nimport { Carousel, Slide } from 'vue-carousel';\n\nexport default createComponent({\n  name: 'SafetyModal',\n  components: {\n    AppModal,\n    Carousel,\n    Slide\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SafetyModal.vue?vue&type=template&id=ac513e10&\"\nimport script from \"./SafetyModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./SafetyModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SafetyModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss,\"showCloseButon\":false}},[_c('h3',[_vm._v(\"\")]),_c('app-button',{on:{\"click\":_vm.dismiss}},[_vm._v(\"\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'CreateFactorySuccessModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreateFactorySuccessModal.vue?vue&type=template&id=3436fde9&scoped=true&\"\nimport script from \"./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=3436fde9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3436fde9\",\n  null\n  \n)\n\nexport default component.exports","import { ref, Ref } from '@vue/composition-api'\n\nexport const useModal = (defaultOpen: boolean = false) : [Ref<boolean>, { open: () => any, dismiss: () => any }] => {\n  const state = ref(defaultOpen)\n\n  const open = () => {\n    state.value = true\n  }\n\n  const dismiss = () => {\n    state.value = false\n  }\n\n  return [\n    state,\n    {\n      open,\n      dismiss\n    }\n  ]\n}\n\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, ref, provide, reactive } from '@vue/composition-api'\n\nimport Map from '@/components/Map.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport AppSidebar from './components/AppSidebar.vue'\nimport FormPage from '@/components/FormPage.vue'\n\nimport FilterModal from '@/components/FilterModal.vue'\nimport AboutModal from '@/components/AboutModal.vue'\nimport ContactModal from '@/components/ContactModal.vue'\nimport GettingStartedModal from '@/components/GettingStartedModal.vue'\nimport SafetyModal from '@/components/SafetyModal.vue'\nimport CreateFactorySuccessModal from '@/components/CreateFactorySuccessModal.vue'\n\nimport { MapFactoryController } from './lib/map'\nimport { MainMapControllerSymbol } from './symbols'\nimport { FactoryData } from './types'\nimport { useModal } from './lib/hooks'\n\nexport default createComponent({\n  name: 'App',\n  components: {\n    Map,\n    AppButton,\n    AppNavbar,\n    AppSidebar,\n    FilterModal,\n    AboutModal,\n    ContactModal,\n    GettingStartedModal,\n    SafetyModal,\n    CreateFactorySuccessModal,\n    FormPage\n  },\n  setup () {\n    const appState = reactive({\n      // Sidebar state\n      sidebarOpen: false,\n\n      // Modal open states\n      filterModalOpen: false,\n      createFactorySuccessModalOpen: false,\n\n      // Page state\n      // TODO: should be rewritten with vue router?\n      formMode: 'create',\n      factoryFormOpen: false,\n      factoryData: null as FactoryData | null,\n      factoryLocation: [] as number[],\n\n      // Map state\n      selectFactoryMode: false\n    })\n\n    const toggleSidebar = () => {\n      appState.sidebarOpen = !appState.sidebarOpen\n    }\n\n    // Modal state utilities\n    function closeFilterModal () {\n      appState.filterModalOpen = false\n    }\n\n    function openFilterModal () {\n      appState.filterModalOpen = true\n    }\n\n    function setCreateFactorySuccessModal (open: boolean) {\n      appState.createFactorySuccessModalOpen = open\n    }\n\n    // Form Editing functions\n    const openCreateFactoryForm = () => {\n      appState.factoryData = null\n      appState.formMode = 'create'\n      appState.factoryFormOpen = true\n    }\n\n    const openEditFactoryForm = (factory: FactoryData) => {\n      appState.factoryData = factory\n      appState.formMode = 'edit'\n      appState.factoryFormOpen = true\n    }\n\n    function closeFactoryPage () {\n      appState.factoryFormOpen = false\n    }\n\n    const setFactoryLocation = (value: [number, number]) => {\n      appState.factoryLocation = value\n    }\n\n    function enterSelectFactoryMode () {\n      appState.selectFactoryMode = true\n    }\n    function exitSelectFactoryMode () {\n      appState.selectFactoryMode = false\n    }\n\n    // register global accessible map instance\n    provide(MainMapControllerSymbol, ref<MapFactoryController>(null))\n\n    const [aboutModalOpen, { open: openAboutModal, dismiss: closeAboutModal }] = useModal()\n    const [contactModalOpen, { open: openContactModal ,dismiss: closeContactModal }] = useModal()\n    const [safetyModalOpen, { open: openSafetyModal ,dismiss: closeSafetyModal }] = useModal()\n    const [gettingStartedModalOpen, { dismiss: closeGettingStartedModal }] = useModal(localStorage.getItem('use-app') !== 'true')\n\n    localStorage.setItem('use-app', 'true')\n\n    return {\n      appState,\n\n      // Sidebar state\n      toggleSidebar,\n      sidebarActions: [\n        () => {},\n        openSafetyModal,\n        openContactModal,\n        openAboutModal\n      ],\n\n      aboutModalOpen,\n      closeAboutModal,\n\n      contactModalOpen,\n      closeContactModal,\n\n      gettingStartedModalOpen,\n      closeGettingStartedModal,\n\n      safetyModalOpen,\n      closeSafetyModal,\n\n      // Modal state utilities\n      openFilterModal,\n      closeFilterModal,\n      setCreateFactorySuccessModal,\n\n      openCreateFactoryForm,\n      openEditFactoryForm,\n      closeFactoryPage,\n\n      enterSelectFactoryMode,\n      exitSelectFactoryMode,\n      setFactoryLocation\n    }\n  }\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=61cea453&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport VueCompositionApi from '@vue/composition-api'\n\nVue.config.productionTip = false\nVue.use(VueCompositionApi)\n\nnew Vue({\n  render: (h) => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterModal.vue?vue&type=style&index=0&id=545e847f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterModal.vue?vue&type=style&index=0&id=545e847f&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}