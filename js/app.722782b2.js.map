{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AppModal.vue?2d1a","webpack:///./src/components/CreateFactorySuccessModal.vue?4467","webpack:///./src/App.vue?f446","webpack:///./src/components/Map.vue?d7f4","webpack:///./src/components/AppTextField.vue?e82a","webpack:///./src/components/FormPage.vue?135e","webpack:///./src/components/ImageUploadModal.vue?8a88","webpack:///./src/components/AppButton.vue?26ae","webpack:///./src/components/AppSelect.vue?b77b","webpack:///./src/lib/map.ts","webpack:///./src/App.vue?400b","webpack:///./src/components/Map.vue?b61a","webpack:///./src/components/AppButton.vue?f36a","webpack:///src/components/AppButton.vue","webpack:///./src/components/AppButton.vue?51b9","webpack:///./src/components/AppButton.vue","webpack:///./src/lib/image.ts","webpack:///./src/api/index.ts","webpack:///./src/components/Map.vue?f1d4","webpack:///./src/components/Map.vue?0602","webpack:///./src/components/Map.vue","webpack:///./src/components/AppNavbar.vue?7fe9","webpack:///./src/components/AppNavbar.vue?eee4","webpack:///./src/components/AppNavbar.vue?2caf","webpack:///./src/components/AppNavbar.vue","webpack:///./src/components/FilterModal.vue?2e92","webpack:///./src/components/AppModal.vue?7aab","webpack:///./src/components/AppModal.vue?dc2a","webpack:///./src/components/AppModal.vue?27fc","webpack:///./src/components/AppModal.vue","webpack:///./src/components/FilterModal.vue?120b","webpack:///./src/components/FilterModal.vue?e33c","webpack:///./src/components/FilterModal.vue","webpack:///./src/components/CreateFactorySuccessModal.vue?5016","webpack:///./src/components/CreateFactorySuccessModal.vue?0169","webpack:///./src/components/CreateFactorySuccessModal.vue?b19f","webpack:///./src/components/CreateFactorySuccessModal.vue","webpack:///./src/components/FormPage.vue?52e2","webpack:///./src/components/AppTextField.vue?811f","webpack:///src/components/AppTextField.vue","webpack:///./src/components/AppTextField.vue?73c0","webpack:///./src/components/AppTextField.vue","webpack:///./src/components/AppSelect.vue?6c95","webpack:///./src/components/AppSelect.vue?2b88","webpack:///./src/components/AppSelect.vue?a757","webpack:///./src/components/AppSelect.vue","webpack:///./src/components/ImageUploadModal.vue?bbc9","webpack:///./src/components/ImageUploadModal.vue?7dfc","webpack:///./src/components/ImageUploadModal.vue?7e56","webpack:///./src/components/ImageUploadModal.vue","webpack:///./src/types.ts","webpack:///./src/components/FormPage.vue?21ff","webpack:///./src/components/FormPage.vue?0281","webpack:///./src/components/FormPage.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/AppNavbar.vue?dd19"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","factoriesLayerSource","_vm","this","_h","$createElement","_c","_self","attrs","createFactoryPageOpen","_v","filterModalOpen","closeFilterModal","createFactorySuccessModalOpen","setCreateFactorySuccessModal","toggleFactoryPage","selectFactoryMode","exitSelectFactoryMode","setFactoryLocation","closeFactoryPage","enterSelectFactoryMode","factoryLocation","_e","staticRenderFns","staticClass","ref","on","factoryValid","selectCenterPoint","class","outline","disabled","click","_t","props","type","Boolean","default","setup","context","emit","component","canvas","OffscreenCanvas","document","createElement","ctx","getContext","processor","src","Promise","resolve","image","Image","crossOrigin","style","display","onload","width","height","clearRect","drawImage","imageData","getImageData","tmpCanvas","tmpCtx","putImageData","toDataURL","remove","argriculturalLandColors","avg","isArrayEqual","a","b","some","v","isArgriculturalLand","arr","flipArgriculturalLand","color","Array","from","baseURL","instance","getFactories","range","lng","lat","uploadImages","files","results","file","formData","FormData","append","post","headers","token","URL","createObjectURL","createFactory","factory","JSON","stringify","console","error","TypeError","map","mapDom","factoryMap","Map","factoryStatusImageMap","D","F","A","iconStyleMap","entries","reduce","acc","status","Style","Icon","anchorYUnits","IconAnchorUnits","PIXELS","nullStyle","appliedFilters","isFactoryVisible","includes","getFactoryStyle","visible","createFactoryFeature","feature","Feature","geometry","Point","setId","id","setStyle","set","addFactories","factories","features","filter","has","addFeatures","vectorLayer","Vector","source","addLayer","forEachFeatureFactory","fn","getFeatures","forEach","getId","displayAllFactory","updateFactoriesFeatureStyle","setFactoryStatusFilter","filters","projection","projectionExtent","getExtent","resolutions","size","matrixIds","z","Math","pow","origin","wmtsTileGrid","Tile","WMTS","matrixSet","format","url","layer","tileGrid","wrapX","attributions","opacity","requestEncoding","tileLoadFunction","imageTile","getImage","then","newSrc","pixel","forEachLayerAtPixel","_","layerFilter","getProperties","layer_","initializeMap","target","handler","layers","view","View","center","zoom","event","g","log","getView","getZoom","resolution","getResolutionForZoom","ceil","getCenter","onMoved","getBoundingClientRect","components","AppButton","Function","required","root","factoryLngLat","canPlaceFactory","longitude","latitude","dark","fixed","hide","directives","rawName","expression","$event","onBackClick","onMenuClick","back","open","dismiss","domProps","isArray","filterF","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","filterA","filterD","onClick","showCloseButon","AppModal","onNavBack","imageUploadModalOpen","closeImageUploadModal","imagesToUpload","finishImagesUpload","finishUploaderForm","staticStyle","_s","_m","handleImagesUpload","_l","model","callback","factoryName","factoryTypeItems","factoryType","factoryDescription","submitFactory","_b","inputValue","$attrs","_q","composing","String","$$selectedVal","options","selected","val","_value","multiple","option","text","items","nickname","contact","AppTextField","images","FileList","imageUrls","urls","FACTORY_TYPE","1","3","4","5","6","7","8","9","AppSelect","AppNavbar","ImageUploadModal","close","openImageUploadModal","uploadedImages","nik","con","containerStyle","e","other","resultFactory","FilterModal","CreateFactorySuccessModal","FormPage","config","productionTip","use","render","h","App","$mount"],"mappings":"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","file":"js/app.722782b2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=style&index=0&id=41371de6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=style&index=0&id=41371de6&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=3a2dc7d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=3a2dc7d4&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=dc9a5030&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=dc9a5030&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=style&index=0&id=1dc8b942&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=style&index=0&id=1dc8b942&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=style&index=0&id=8457eb0a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=style&index=0&id=8457eb0a&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=style&index=0&id=33c296d1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=style&index=0&id=33c296d1&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=style&index=0&id=1de9cbd7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=style&index=0&id=1de9cbd7&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=style&index=0&id=6fad94c0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=style&index=0&id=6fad94c0&lang=scss&scoped=true&\"","import { Style, Icon } from 'ol/style'\nimport IconAnchorUnits from 'ol/style/IconAnchorUnits'\nimport { Map as OlMap, View, Feature, MapBrowserEvent } from 'ol'\nimport { Point } from 'ol/geom'\nimport WMTS from 'ol/source/WMTS'\nimport WMTSTileGrid from 'ol/tilegrid/WMTS'\nimport { get as getProjection, transform } from 'ol/proj'\nimport { getWidth, getTopLeft } from 'ol/extent'\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer'\nimport { Vector as VectorSource } from 'ol/source'\n\nimport { FactoriesResponse, FactoryData, FactoryStatusType, FACTORY_STATUS } from '../types'\n\nimport { flipArgriculturalLand } from '../lib/image'\nimport { getFactories } from '@/api'\n\nlet factoriesLayerSource: VectorSource\nconst factoryMap = new Map<string, FactoryData>()\n\n// internal map references\nlet map: OlMap\nlet mapDom: HTMLElement\n\nconst factoryStatusImageMap = {\n  D: '/images/marker-green.svg',\n  F: '/images/marker-red.svg',\n  A: '/images/marker-blue.svg'\n}\n\nconst iconStyleMap = Object.entries(factoryStatusImageMap).reduce((acc, [status, src]) => ({\n  ...acc,\n  [status]: new Style({\n    image: new Icon({\n      anchorYUnits: IconAnchorUnits.PIXELS,\n      src\n    })\n  })\n}), {}) as {[key in FactoryStatusType]: Style}\n\nconst nullStyle = new Style({})\n\nlet appliedFilters: FactoryStatusType[] = []\n\nfunction isFactoryVisible (factory: FactoryData) {\n  if (appliedFilters.length === 0) {\n    return true\n  } else {\n    return appliedFilters.includes(factory.status)\n  }\n}\n\nfunction getFactoryStyle (factory: FactoryData): Style {\n  const visible = isFactoryVisible(factory)\n  return visible ? iconStyleMap[factory.status] : nullStyle\n}\n\nfunction createFactoryFeature (factory: FactoryData) {\n  const feature = new Feature({\n    geometry: new Point(transform([factory.lng, factory.lat], 'EPSG:4326', 'EPSG:3857'))\n  })\n  feature.setId(factory.id)\n  feature.setStyle(getFactoryStyle(factory))\n\n  factoryMap.set(factory.id, factory)\n\n  return feature\n}\n\nexport function addFactories (factories: FactoryData[]) {\n  const features = factories.filter(factory => !factoryMap.has(factory.id)).map(createFactoryFeature)\n\n  if (!factoriesLayerSource) {\n    factoriesLayerSource = new VectorSource({\n      features\n    })\n    const vectorLayer = new VectorLayer({\n      source: factoriesLayerSource\n    })\n\n    map.addLayer(vectorLayer)\n  } else {\n    factoriesLayerSource.addFeatures(features)\n  }\n}\n\nexport function hideFactories (factories: FactoryData[]) {\n  factories.forEach(factory => {\n    const feature = factoriesLayerSource.getFeatureById(factory.id)\n    feature.setStyle(nullStyle)\n  })\n}\n\nfunction forEachFeatureFactory (fn: (feature: Feature, factory: FactoryData) => any) {\n  factoriesLayerSource.getFeatures().forEach(feature => {\n    const id = feature.getId() as string\n    const factory = factoryMap.get(id) as FactoryData\n\n    fn(feature, factory)\n  })\n}\n\nfunction displayAllFactory () {\n  forEachFeatureFactory((feature, factory) => {\n    feature.setStyle(iconStyleMap[factory.status])\n  })\n}\n\nfunction updateFactoriesFeatureStyle () {\n  forEachFeatureFactory((feature, factory) => {\n    feature.setStyle(getFactoryStyle(factory))\n  })\n}\n\nexport function setFactoryStatusFilter (filters: FactoryStatusType[]) {\n  // factory layer doesn't get initialized yet\n  if (!factoriesLayerSource) {\n    return\n  }\n  appliedFilters = filters\n\n  // reset filter if filters is an empty array\n  if (filters.length === 0) {\n    return displayAllFactory()\n  }\n\n  updateFactoriesFeatureStyle()\n}\n// TODO: remove this\n(window as any).setFactoryStatusFilter = setFactoryStatusFilter\n\nconst getWMTSTileGrid = () => {\n  const projection = getProjection('EPSG:3857')\n  const projectionExtent = projection.getExtent()\n  const resolutions = new Array(20)\n  const size = getWidth(projectionExtent) / 256\n  const matrixIds = new Array(20)\n  for (let z = 0; z < 20; ++z) {\n    // generate resolutions and matrixIds arrays for this WMTS\n    resolutions[z] = size / Math.pow(2, z)\n    matrixIds[z] = z\n  }\n\n  return new WMTSTileGrid({\n    origin: getTopLeft(projectionExtent),\n    resolutions: resolutions,\n    matrixIds: matrixIds\n  })\n}\n\nconst getBaseLayer = (wmtsTileGrid: WMTSTileGrid) => {\n  return new TileLayer({\n    source: new WMTS({\n      matrixSet: 'EPSG:3857',\n      format: 'image/png',\n      url: 'https://wmts.nlsc.gov.tw/wmts',\n      layer: 'EMAP',\n      tileGrid: wmtsTileGrid,\n      crossOrigin: 'Anonymous',\n      style: 'default',\n      wrapX: true,\n      attributions:\n        '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\">國土測繪圖資服務雲</a>'\n    }),\n    opacity: 0.5\n  })\n}\n\nconst getLUIMapLayer = (wmtsTileGrid: WMTSTileGrid) => {\n  return new TileLayer({\n    source: new WMTS({\n      matrixSet: 'EPSG:3857',\n      format: 'image/png',\n      url: 'https://wmts.nlsc.gov.tw/wmts/LUIMAP/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}',\n      layer: 'LUIMAP',\n      requestEncoding: 'REST',\n      tileGrid: wmtsTileGrid,\n      tileLoadFunction: function (imageTile, src) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const image: HTMLImageElement = (imageTile as any).getImage()\n        flipArgriculturalLand(src).then(newSrc => {\n          image.src = newSrc\n        })\n      },\n      crossOrigin: 'Anonymous',\n      style: 'default',\n      wrapX: true,\n      attributions:\n        '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\">國土測繪圖資服務雲</a>'\n    }),\n    opacity: 0.5\n  })\n}\n\nexport function getMap () {\n  return map\n}\n\ntype MapEventHandler = {\n  onMoved?: (location: [number, number], canPlaceFactory: boolean) => any;\n}\n\nfunction canPlaceFactory (pixel: MapBrowserEvent['pixel']): Promise<boolean> {\n  return new Promise(resolve => {\n    map.forEachLayerAtPixel(pixel, function (_, data) {\n      const [,,, a] = data\n\n      return resolve(a === 1)\n    }, {\n      layerFilter: function (layer) {\n        // only handle click event on LUIMAP\n        return layer.getProperties().source.layer_ === 'LUIMAP'\n      }\n    })\n  })\n}\n\nexport function initializeMap (target: HTMLElement, handler: MapEventHandler = {}) {\n  const tileGrid = getWMTSTileGrid()\n\n  mapDom = target\n\n  map = new OlMap({\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    target,\n    layers: [\n      getBaseLayer(tileGrid),\n      getLUIMapLayer(tileGrid)\n    ],\n    view: new View({\n      center: transform([120.1, 23.234], 'EPSG:4326', 'EPSG:3857'),\n      zoom: 15\n    })\n  })\n\n  map.on('click', function (event) {\n    // console.log(event)\n    map.forEachLayerAtPixel(event.pixel, function (layer, data) {\n      const [r, g, b, a] = data\n      console.log(`rgba(${r}, ${g}, ${b}, ${a})`)\n      // console.log(layer.getProperties())\n    }, {\n      layerFilter: function (layer) {\n        // only handle click event on LUIMAP\n        return layer.getProperties().source.layer_ === 'LUIMAP'\n      }\n    })\n  })\n\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  map.on('moveend', async function () {\n    const view = map.getView()\n    const zoom = view.getZoom()\n\n    // resolution in meter\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const resolution = view.getResolutionForZoom(zoom!)\n    const range = Math.ceil(resolution)\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const [lng, lat] = transform(view.getCenter()!, 'EPSG:3857', 'EPSG:4326')\n\n    const factories = await getFactories(range, lng, lat)\n    addFactories(factories)\n\n    if (handler.onMoved) {\n      const { width, height } = mapDom.getBoundingClientRect()\n      handler.onMoved([lng, lat], await canPlaceFactory([width / 2, height / 2]))\n    }\n  })\n\n  // TODO: remove this\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ;(window as any).map = map\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-navbar',{attrs:{\"hide\":_vm.createFactoryPageOpen,\"fixed\":true}},[_vm._v(\"農地違章工廠舉報\")]),_c('filter-modal',{attrs:{\"open\":_vm.filterModalOpen,\"dismiss\":_vm.closeFilterModal}}),_c('create-factory-success-modal',{attrs:{\"open\":_vm.createFactorySuccessModalOpen,\"dismiss\":function () { return _vm.setCreateFactorySuccessModal(false); }}}),_c('Map',{attrs:{\"toggleFactoryPage\":_vm.toggleFactoryPage,\"selectFactoryMode\":_vm.selectFactoryMode,\"exitSelectFactoryMode\":_vm.exitSelectFactoryMode,\"setFactoryLocation\":_vm.setFactoryLocation}}),(_vm.createFactoryPageOpen)?_c('form-page',{attrs:{\"close\":_vm.closeFactoryPage,\"selectFactoryMode\":_vm.selectFactoryMode,\"enterSelectFactoryMode\":_vm.enterSelectFactoryMode,\"exitSelectFactoryMode\":_vm.exitSelectFactoryMode,\"factoryLocation\":_vm.factoryLocation,\"setCreateFactorySuccessModal\":_vm.setCreateFactorySuccessModal}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-container\"},[_c('div',{ref:\"root\",staticClass:\"map\"}),(_vm.selectFactoryMode)?_c('div',{staticClass:\"center-point\"}):_vm._e(),_c('div',{staticClass:\"factory-button-group\"},[(!_vm.selectFactoryMode)?_c('div',{staticClass:\"create-factory-button\"},[_c('app-button',{on:{\"click\":_vm.toggleFactoryPage}},[_vm._v(\"我要新增違建工廠\")])],1):_vm._e(),(_vm.selectFactoryMode)?_c('div',{staticClass:\"choose-location-button\"},[_c('app-button',{attrs:{\"disabled\":!_vm.factoryValid},on:{\"click\":_vm.selectCenterPoint}},[_vm._v(\" 選擇此地點 \")])],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:{ outline: _vm.outline, disabled: _vm.disabled },on:{\"click\":_vm.click}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button\n    :class=\"{ outline, disabled }\"\n    @click=\"click\"\n  >\n    <slot />\n  </button>\n</template>\n\n<script>\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppButton',\n  props: {\n    outline: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (props, context) {\n    const click = () => {\n      if (!props.disabled) {\n        context.emit('click')\n      }\n    }\n\n    return {\n      click\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables';\nbutton {\n  width: 100%;\n  background-color: $primary-color;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  border: 1px solid #fff;\n  border-radius: 24px;\n  padding: 10px 21px;\n\n  color: $dark-font-color;\n  font-size: 1.6rem;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.outline {\n  border: 1px solid $primary-color;\n  background-color: #fff;\n  color: $font-color;\n\n  &:hover {\n    cursor: pointer;\n    background-color: $primary-color;\n    color: $dark-font-color;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppButton.vue?vue&type=template&id=1de9cbd7&scoped=true&\"\nimport script from \"./AppButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppButton.vue?vue&type=style&index=0&id=1de9cbd7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1de9cbd7\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\ntype PixelMapper = (data: Uint8ClampedArray) => void\n\nconst canvas = (window.OffscreenCanvas) ? new OffscreenCanvas(500, 500) : document.createElement('canvas')\nconst ctx = canvas.getContext('2d')!\n\nexport const createImageProcessor = (processor: PixelMapper) => (src: string): Promise<string> => {\n  return new Promise((resolve) => {\n    const image = new Image()\n    image.crossOrigin = ''\n    image.src = src\n    image.style.display = 'none'\n    image.onload = async () => {\n      canvas.width = image.width\n      canvas.height = image.height\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n      ctx.drawImage(image, 0, 0)\n\n      const imageData = ctx.getImageData(0, 0, image.width, image.height)\n      const { data } = imageData\n\n      await Promise.resolve(processor(data))\n\n      const tmpCanvas = document.createElement('canvas')\n      const tmpCtx = tmpCanvas.getContext('2d')!\n      tmpCanvas.width = image.width\n      tmpCanvas.height = image.height\n\n      tmpCtx.putImageData(imageData, 0, 0)\n\n      resolve(tmpCanvas.toDataURL())\n\n      image.remove()\n      tmpCanvas.remove()\n    }\n  })\n}\n\nexport const toGrayScale = createImageProcessor(data => {\n  // doing grayscale operaion pixel by pixel\n  for (let i = 0; i < data.length; i += 4) {\n    const avg = (data[i] + data[i + 1] + data[i + 2]) / 3\n    data[i] = avg // red\n    data[i + 1] = avg // green\n    data[i + 2] = avg // blue\n  }\n})\n\nconst argriculturalLandColors = [\n  [152, 230, 0],\n  [209, 255, 115],\n  [171, 220, 97],\n  [110, 221, 97],\n  [233, 255, 190],\n  [198, 230, 150],\n  [56, 204, 61],\n  [200, 205, 56],\n  [126, 237, 39],\n  [99, 192, 59],\n  [170, 192, 60],\n  [142, 169, 68],\n  [138, 255, 218],\n  [159, 177, 105],\n  [112, 134, 79],\n  [147, 203, 62],\n  [168, 168, 0],\n  [107, 144, 75],\n  [77, 101, 57]\n]\n\nconst isArrayEqual = (a: Array<any>, b: Array<any>) => !a.some((v, i) => b[i] !== v)\n\nconst isArgriculturalLand = (arr: Array<any>) => argriculturalLandColors.some(c => isArrayEqual(c, arr))\n\nexport const flipArgriculturalLand = createImageProcessor(data => {\n  for (let i = 0; i < data.length; i += 4) {\n    const color = Array.from(data.slice(i, i + 3))\n\n    if (isArgriculturalLand(color)) {\n      // set to transparent\n      data[i] = 0\n      data[i + 1] = 0\n      data[i + 2] = 0\n      data[i + 3] = 1\n    } else {\n      // set to black\n      data[i] = 0\n      data[i + 1] = 0\n      data[i + 2] = 0\n      data[i + 3] = 255\n    }\n  }\n})\n","import axios from 'axios'\nimport { FactoryPostData, FactoryData, FactoriesResponse } from '@/types'\n\nconst baseURL = process.env.NODE_ENV === 'production' ? 'https://middle2.disfactory.tw/api' : '/server/api'\n\nconst instance = axios.create({\n  baseURL\n})\n\ntype ImageResponse = {\n  token: string;\n}\n\nexport type UploadedImages = {\n  token: string;\n  src: string; // used for preview images\n}[]\n\nexport async function getFactories (range: number, lng: number, lat: number): Promise<FactoriesResponse> {\n  const { data } = await instance.get(`/factories?range=${range}&lng=${lng}&lat=${lat}`)\n\n  return data\n}\n\nexport async function uploadImages (files: FileList): Promise<UploadedImages> {\n  const results: UploadedImages = []\n\n  for (const file of files) {\n    const formData = new FormData()\n    formData.append('image', file)\n\n    const { data }: { data: ImageResponse } = await instance.post('/images', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    // TODO: error handling\n\n    results.push({\n      token: data.token,\n      src: URL.createObjectURL(file)\n    })\n  }\n\n  return results\n}\n\nexport async function createFactory (factory: FactoryPostData): Promise<FactoryData> {\n  try {\n    const { data }: { data: FactoryData } = await instance.post('/factories', JSON.stringify(factory), {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Create factory failed')\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent, onMounted, ref } from '@vue/composition-api'\nimport 'ol/ol.css'\nimport { initializeMap } from '../lib/map'\n\nexport default createComponent({\n  components: {\n    AppButton\n  },\n  props: {\n    toggleFactoryPage: {\n      type: Function,\n      required: true\n    },\n    selectFactoryMode: {\n      type: Boolean,\n      required: true\n    },\n    exitSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    setFactoryLocation: {\n      type: Function,\n      required: true\n    }\n  },\n  setup (props) {\n    const root = ref<HTMLElement>(null)\n    const factoryValid = ref(false)\n    const factoryLngLat = ref<number[]>([])\n\n    onMounted(() => {\n      initializeMap(root.value!, {\n        onMoved: function ([longitude, latitude], canPlaceFactory) {\n          factoryLngLat.value = [longitude, latitude]\n          factoryValid.value = canPlaceFactory\n        }\n        // TODO: do on start move to lock selection\n      })\n    })\n\n    return {\n      root,\n      factoryValid,\n      selectCenterPoint () {\n        props.setFactoryLocation(factoryLngLat.value)\n        props.exitSelectFactoryMode()\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=dc9a5030&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=dc9a5030&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dc9a5030\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{class:{ dark: _vm.dark, fixed: _vm.fixed, hide: _vm.hide }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.dark),expression:\"!dark\"}],staticClass:\"back-button\",on:{\"click\":function($event){return _vm.onBackClick()}}},[_c('span'),_c('span'),_c('span')]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dark),expression:\"dark\"}],staticClass:\"back-placeholder\"}),_vm._t(\"default\"),_c('div',{staticClass:\"menu-button\",on:{\"click\":function($event){return _vm.onMenuClick()}}},[_c('span'),_c('span'),_c('span')])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, PropType, computed } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppNavbar',\n  props: {\n    dark: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: false\n    },\n    back: {\n      type: Function\n    },\n    hide: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup ({ back }, { emit }) {\n    return {\n      onBackClick () {\n        emit('back')\n      },\n      onMenuClick () {\n        emit('menu')\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppNavbar.vue?vue&type=template&id=ed0cfed2&scoped=true&\"\nimport script from \"./AppNavbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppNavbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppNavbar.vue?vue&type=style&index=0&id=ed0cfed2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ed0cfed2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('h1',[_vm._v(\"篩選\")]),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterF),expression:\"filterF\"}],attrs:{\"type\":\"checkbox\",\"name\":\"F\"},domProps:{\"checked\":Array.isArray(_vm.filterF)?_vm._i(_vm.filterF,null)>-1:(_vm.filterF)},on:{\"change\":function($event){var $$a=_vm.filterF,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.filterF=$$a.concat([$$v]))}else{$$i>-1&&(_vm.filterF=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.filterF=$$c}}}}),_vm._v(\" 資料不全 \")]),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterA),expression:\"filterA\"}],attrs:{\"type\":\"checkbox\",\"name\":\"A\"},domProps:{\"checked\":Array.isArray(_vm.filterA)?_vm._i(_vm.filterA,null)>-1:(_vm.filterA)},on:{\"change\":function($event){var $$a=_vm.filterA,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.filterA=$$a.concat([$$v]))}else{$$i>-1&&(_vm.filterA=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.filterA=$$c}}}}),_vm._v(\" 資料齊全 \")]),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterD),expression:\"filterD\"}],attrs:{\"type\":\"checkbox\",\"name\":\"D\"},domProps:{\"checked\":Array.isArray(_vm.filterD)?_vm._i(_vm.filterD,null)>-1:(_vm.filterD)},on:{\"change\":function($event){var $$a=_vm.filterD,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.filterD=$$a.concat([$$v]))}else{$$i>-1&&(_vm.filterD=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.filterD=$$c}}}}),_vm._v(\" 已舉報 \")]),_c('app-button',{on:{\"click\":function($event){return _vm.onClick()}}},[_vm._v(\"確認\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-modal-component\",class:{ open: _vm.open }},[_c('div',{staticClass:\"app-modal-backdrop\",on:{\"click\":_vm.dismiss}}),_c('div',{staticClass:\"app-modal\"},[(_vm.showCloseButon)?_c('div',{staticClass:\"close\",on:{\"click\":_vm.dismiss}}):_vm._e(),_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, PropType, computed } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppModal',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    },\n    showCloseButon: {\n      type: Boolean,\n      default: true\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppModal.vue?vue&type=template&id=41371de6&scoped=true&\"\nimport script from \"./AppModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppModal.vue?vue&type=style&index=0&id=41371de6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41371de6\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { setFactoryStatusFilter } from '../lib/map'\nimport { createComponent, reactive, ref } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'FilterModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  },\n  setup (props, context) {\n    const filterF = ref(false)\n    const filterA = ref(false)\n    const filterD = ref(false)\n\n    return {\n      filterF,\n      filterA,\n      filterD,\n      onClick () {\n        setFactoryStatusFilter([\n          filterF.value ? 'F' : false,\n          filterA.value ? 'A' : false,\n          filterD.value ? 'D' : false\n        ].filter(Boolean) as ('D' | 'F' | 'A')[])\n\n        if (typeof props.dismiss === 'function') {\n          props.dismiss()\n        }\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterModal.vue?vue&type=template&id=20c5d420&\"\nimport script from \"./FilterModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./FilterModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss,\"showCloseButon\":false}},[_c('h3',[_vm._v(\"感謝您新增資訊！\")]),_c('app-button',{on:{\"click\":_vm.dismiss}},[_vm._v(\"確認\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent, ref } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'CreateFactorySuccessModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreateFactorySuccessModal.vue?vue&type=template&id=3a2dc7d4&scoped=true&\"\nimport script from \"./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=3a2dc7d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a2dc7d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"navbar-container\"},[_c('app-navbar',{attrs:{\"dark\":false,\"fixed\":true},on:{\"back\":_vm.onNavBack}},[_vm._v(\"新增資訊\")])],1),_c('div',{staticClass:\"page-container\",class:{ hide: _vm.selectFactoryMode }},[_c('image-upload-modal',{attrs:{\"open\":_vm.imageUploadModalOpen,\"dismiss\":_vm.closeImageUploadModal,\"images\":_vm.imagesToUpload,\"finishImagesUpload\":_vm.finishImagesUpload,\"finishUploaderForm\":_vm.finishUploaderForm}}),_c('div',{staticClass:\"page\",staticStyle:{\"padding\":\"29px 35px\"}},[_c('h1',[_vm._v(\"輸入資訊\")]),_c('h3',[_vm._v(\"工廠地點\")]),_vm._v(\" \"+_vm._s(JSON.stringify(_vm.factoryLocation))+\" \"),_c('app-button',{on:{\"click\":function($event){return _vm.enterSelectFactoryMode()}}},[_vm._v(\"點我選擇\")]),_c('div',{staticClass:\"flex justify-between\",staticStyle:{\"margin-top\":\"40px\"}},[_vm._m(0),_c('div',[_c('label',[_c('input',{ref:\"image\",staticStyle:{\"display\":\"none\"},attrs:{\"multiple\":\"\",\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.handleImagesUpload}}),_c('app-button',{on:{\"click\":function($event){return _vm.image.click()}}},[_vm._v(\"新增\")])],1)])]),_c('div',{staticClass:\"images-grid\"},_vm._l((_vm.imageUrls),function(url){return _c('div',{key:url,staticClass:\"image-card\"},[_c('img',{attrs:{\"src\":url}})])}),0),_c('h3',[_vm._v(\"工廠名稱\")]),_c('app-text-field',{attrs:{\"placeholder\":\"請輸入工廠名稱\"},model:{value:(_vm.factoryName),callback:function ($$v) {_vm.factoryName=$$v},expression:\"factoryName\"}}),_c('h3',[_vm._v(\"工廠類型\")]),_c('app-select',{attrs:{\"items\":_vm.factoryTypeItems},model:{value:(_vm.factoryType),callback:function ($$v) {_vm.factoryType=$$v},expression:\"factoryType\"}}),_c('h3',[_vm._v(\"新增其它資訊\")]),_c('app-text-field',{attrs:{\"placeholder\":\"請填入其他資訊，如聲音、氣味等等。\"},model:{value:(_vm.factoryDescription),callback:function ($$v) {_vm.factoryDescription=$$v},expression:\"factoryDescription\"}}),_c('div',{staticClass:\"text-center width-auto\",staticStyle:{\"margin-top\":\"60px\",\"margin-bottom\":\"55px\"}},[_c('app-button',{on:{\"click\":function($event){return _vm.submitFactory()}}},[_vm._v(\"送出\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-column flex-auto\"},[_c('h3',{staticStyle:{\"margin-top\":\"0\"}},[_vm._v(\"工廠照片*\")]),_c('label',[_c('small',[_vm._v(\"請上傳至少一張照片\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return ((_vm.type)==='checkbox')?_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.inputValue)?_vm._i(_vm.inputValue,null)>-1:(_vm.inputValue)},on:{\"change\":function($event){var $$a=_vm.inputValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.inputValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.inputValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.inputValue=$$c}}}},'input',_vm.$attrs,false)):((_vm.type)==='radio')?_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],attrs:{\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.inputValue,null)},on:{\"change\":function($event){_vm.inputValue=null}}},'input',_vm.$attrs,false)):_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],attrs:{\"type\":_vm.type},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}},'input',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input\n    v-bind=\"$attrs\"\n    v-model=\"inputValue\"\n    :type=\"type\"\n  >\n</template>\n\n<script>\nimport { computed, createComponent } from '@vue/composition-api'\nexport default createComponent({\n  name: 'AppTextField',\n  props: {\n    type: {\n      type: String,\n      default: 'text'\n    },\n    value: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const inputValue = computed({\n      get: () => props.value,\n      set: (value) => context.emit('input', value)\n    })\n\n    return {\n      inputValue\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables';\ninput {\n  border: 1px solid $second-color;\n  border-radius: 4px;\n  padding: 10px 15px;\n  outline: none;\n\n  width: 100%;\n\n  font-size: $form-font-size;\n\n  &::placeholder {\n    color: rgb(186, 186, 186);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppTextField.vue?vue&type=template&id=1dc8b942&scoped=true&\"\nimport script from \"./AppTextField.vue?vue&type=script&lang=js&\"\nexport * from \"./AppTextField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppTextField.vue?vue&type=style&index=0&id=1dc8b942&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dc8b942\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select\"},[_c('select',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.inputValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},'select',_vm.$attrs,false),_vm._l((_vm.items),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(\" \"+_vm._s(option.text)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, PropType, computed } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppSelect',\n  props: {\n    value: {\n      type: null,\n      required: true\n    },\n    items: {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      type: Array as PropType<{ text: string; value: any }[]>,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const inputValue = computed({\n      get: () => props.value,\n      set: (value) => context.emit('input', value)\n    })\n\n    return {\n      inputValue\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelect.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppSelect.vue?vue&type=template&id=6fad94c0&scoped=true&\"\nimport script from \"./AppSelect.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppSelect.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppSelect.vue?vue&type=style&index=0&id=6fad94c0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fad94c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{staticClass:\"page\",attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('h2',[_vm._v(\"工廠照片\")]),_c('div',{staticClass:\"images-grid\"},_vm._l((_vm.imageUrls),function(url){return _c('div',{key:url,staticClass:\"image-card\"},[_c('img',{attrs:{\"src\":url}})])}),0),_c('h2',[_vm._v(\" 聯絡資訊（非必填）\"),_c('br'),_c('small',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"如果對於照片有疑問，我們會透過您提供的資訊聯絡你。\")])]),_c('h3',[_vm._v(\"稱呼\")]),_c('app-text-field',{attrs:{\"placeholder\":\"例：林先生\"},model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}}),_c('h3',[_vm._v(\"聯絡資料\")]),_c('app-text-field',{attrs:{\"placeholder\":\"例：0912345678\"},model:{value:(_vm.contact),callback:function ($$v) {_vm.contact=$$v},expression:\"contact\"}}),_c('div',{staticStyle:{\"margin-top\":\"35px\"}},[_c('app-button',{on:{\"click\":function($event){return _vm.handleImagesUpload()}}},[_vm._v(\"上傳照片\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport AppTextField from '@/components/AppTextField.vue'\nimport { createComponent, reactive, ref, computed } from '@vue/composition-api'\nimport { uploadImages } from '../api'\n\nexport default createComponent({\n  name: 'FilterModal',\n  components: {\n    AppModal,\n    AppButton,\n    AppTextField\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function,\n      required: true\n    },\n    images: {\n      type: FileList\n    },\n    finishImagesUpload: {\n      type: Function,\n      required: true\n    },\n    finishUploaderForm: {\n      type: Function,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const nickname = ref('')\n    const contact = ref('')\n\n    const imageUrls = computed(() => {\n      const urls = []\n      for (let i = 0; i < props.images!.length; i++) {\n        urls.push(URL.createObjectURL(props.images![i]))\n      }\n\n      return urls\n    })\n\n    return {\n      nickname,\n      contact,\n      imageUrls,\n      async handleImagesUpload () {\n        const images = await uploadImages(props.images!)\n        props.finishImagesUpload(images)\n\n        props.finishUploaderForm(nickname.value, contact.value)\n\n        // TODO: decorate dismiss method, clear images when dismiss\n        props.dismiss()\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageUploadModal.vue?vue&type=template&id=33c296d1&scoped=true&\"\nimport script from \"./ImageUploadModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageUploadModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageUploadModal.vue?vue&type=style&index=0&id=33c296d1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33c296d1\",\n  null\n  \n)\n\nexport default component.exports","export const FACTORY_TYPE = {\n  1: '金屬',\n  '2-1': '沖床、銑床、車床、鏜孔',\n  '2-2': '焊接、鑄造、熱處理',\n  '2-3': '金屬表面處理、噴漆',\n  3: '塑膠加工、射出',\n  4: '橡膠加工',\n  5: '非金屬礦物（石材）',\n  6: '食品',\n  7: '皮革',\n  8: '紡織',\n  9: '其他'\n}\nexport type FactoryType = keyof typeof FACTORY_TYPE\n\nexport const FACTORY_STATUS = {\n  D: '已舉報',\n  F: '資料不齊',\n  A: '待審核'\n}\nexport type FactoryStatusType = keyof typeof FACTORY_STATUS\n\nexport type FactoryData = {\n  id: string;\n  lat: number;\n  lng: number;\n  name: string;\n  landcode: string;\n  type: FactoryType;\n  status: FactoryStatusType;\n  images: string[];\n  // TODO: can be one of https://docs.djangoproject.com/en/2.2/ref/settings/#datetime-input-formats\n  // eslint-disable-next-line\n  reported_at: null | string\n}\n\nexport type FactoriesResponse = Array<FactoryData>\n\nexport type FactoryPostData = {\n  name: string;\n  type: FactoryType;\n  images?: string[];\n  other?: string;\n  lat: number;\n  lng: number;\n  nickname?: string;\n  contact?: string;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, onMounted, ref, computed } from '@vue/composition-api'\nimport AppButton from '@/components/AppButton.vue'\nimport AppTextField from '@/components/AppTextField.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport AppSelect from '@/components/AppSelect.vue'\nimport ImageUploadModal from '@/components/ImageUploadModal.vue'\nimport { UploadedImages, createFactory } from '../api'\nimport { FactoryPostData, FACTORY_TYPE, FactoryType } from '../types'\nimport { addFactories } from '../lib/map'\n\nexport default createComponent({\n  name: 'FormPage',\n  components: {\n    AppButton,\n    AppTextField,\n    AppSelect,\n    AppNavbar,\n    ImageUploadModal\n  },\n  props: {\n    // close form page\n    close: {\n      type: Function,\n      required: true\n    },\n    selectFactoryMode: {\n      type: Boolean,\n      required: true\n    },\n    enterSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    exitSelectFactoryMode: {\n      type: Function,\n      required: true\n    },\n    factoryLocation: {\n      type: Array,\n      required: true\n    },\n    setCreateFactorySuccessModal: {\n      type: Function,\n      required: true\n    }\n  },\n  setup (props) {\n    const factoryName = ref('')\n    const factoryType = ref<FactoryType>(0)\n    const factoryTypeItems: any[] = [\n      { text: '請選擇工廠類型', value: 0 },\n      ...Object.entries(FACTORY_TYPE).map(([value, text]) => ({ text, value }))\n    ]\n    const factoryDescription = ref('')\n\n    const imageUploadModalOpen = ref(false)\n    const closeImageUploadModal = () => {\n      imageUploadModalOpen.value = false\n    }\n    const openImageUploadModal = () => {\n      imageUploadModalOpen.value = true\n    }\n\n    const imagesToUpload = ref<FileList>([])\n    const uploadedImages = ref<UploadedImages>([])\n    const image = ref<HTMLElement>(null)\n\n    const imageUrls = computed(() => {\n      const urls = []\n      for (let i = 0; i < imagesToUpload.value.length; i++) {\n        urls.push(URL.createObjectURL(imagesToUpload.value[i]))\n      }\n\n      return urls\n    })\n\n    const nickname = ref('')\n    const contact = ref('')\n\n    const finishUploaderForm = (nik: string, con: string) => {\n      nickname.value = nik\n      contact.value = con\n    }\n\n    return {\n      factoryName,\n      factoryType,\n      factoryTypeItems,\n      factoryDescription,\n      containerStyle: {\n        width: '100%'\n      },\n      imageUploadModalOpen,\n      openImageUploadModal,\n      closeImageUploadModal,\n\n      imageUrls,\n      imagesToUpload,\n      image, // image upload input ref,\n      handleImagesUpload (e: Event) {\n        imagesToUpload.value = (e.target as HTMLInputElement).files!\n\n        openImageUploadModal()\n      },\n      finishImagesUpload (images: UploadedImages) {\n        uploadedImages.value = images\n      },\n      onNavBack () {\n        props.close()\n        props.exitSelectFactoryMode()\n      },\n      async submitFactory () {\n        try {\n          const [lng, lat] = props.factoryLocation as number[]\n          const factory: FactoryPostData = {\n            name: factoryName.value,\n            lng,\n            lat,\n            type: factoryType.value,\n            other: factoryDescription.value,\n            images: uploadedImages.value.map(image => image.token),\n            nickname: nickname.value,\n            contact: contact.value\n          }\n\n          console.log(factory)\n\n          const resultFactory = await createFactory(factory)\n          addFactories([resultFactory])\n        } catch (e) {\n          // TODO: handle create failure\n        }\n\n        // TODO: clear form\n\n        props.close()\n        props.exitSelectFactoryMode()\n        console.log(props.setCreateFactorySuccessModal)\n        props.setCreateFactorySuccessModal(true)\n      },\n      finishUploaderForm\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormPage.vue?vue&type=template&id=8457eb0a&scoped=true&\"\nimport script from \"./FormPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormPage.vue?vue&type=style&index=0&id=8457eb0a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8457eb0a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Map from '@/components/Map.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport FilterModal from '@/components/FilterModal.vue'\nimport CreateFactorySuccessModal from '@/components/CreateFactorySuccessModal.vue'\n\nimport FormPage from '@/components/FormPage.vue'\n\nimport { createComponent, ref } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'App',\n  components: {\n    Map,\n    AppButton,\n    AppNavbar,\n    FilterModal,\n    CreateFactorySuccessModal,\n    FormPage\n  },\n  setup () {\n    const filterModalOpen = ref(false)\n    const closeFilterModal = () => {\n      filterModalOpen.value = false\n    }\n\n    const createFactoryPageOpen = ref(false)\n    const toggleFactoryPage = () => {\n      createFactoryPageOpen.value = !createFactoryPageOpen.value\n    }\n\n    const closeFactoryPage = () => {\n      createFactoryPageOpen.value = false\n    }\n\n    const factoryLocation = ref<number[]>([])\n    const setFactoryLocation = (value: [number, number]) => {\n      factoryLocation.value = value\n    }\n\n    const selectFactoryMode = ref(false)\n    const enterSelectFactoryMode = () => {\n      selectFactoryMode.value = true\n    }\n    const exitSelectFactoryMode = () => {\n      selectFactoryMode.value = false\n    }\n\n    const createFactorySuccessModalOpen = ref(false)\n    const setCreateFactorySuccessModal = (open: boolean) => {\n      createFactorySuccessModalOpen.value = open\n    }\n\n    return {\n      filterModalOpen,\n      closeFilterModal,\n\n      createFactorySuccessModalOpen,\n      setCreateFactorySuccessModal,\n\n      createFactoryPageOpen,\n      toggleFactoryPage,\n      closeFactoryPage,\n\n      selectFactoryMode,\n      enterSelectFactoryMode,\n      exitSelectFactoryMode,\n      factoryLocation,\n      setFactoryLocation\n    }\n  }\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=76b50ae1&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport VueCompositionApi from '@vue/composition-api'\n\nVue.config.productionTip = false\nVue.use(VueCompositionApi)\n\nnew Vue({\n  render: (h) => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=style&index=0&id=ed0cfed2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=style&index=0&id=ed0cfed2&lang=scss&scoped=true&\""],"sourceRoot":""}